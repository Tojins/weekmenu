(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var jc={exports:{}},bi={},Ec={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),Tf=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Of=Symbol.for("react.provider"),$f=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Mf=Symbol.for("react.memo"),Uf=Symbol.for("react.lazy"),Ha=Symbol.iterator;function zf(e){return e===null||typeof e!="object"?null:(e=Ha&&e[Ha]||e["@@iterator"],typeof e=="function"?e:null)}var bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cc=Object.assign,Nc={};function tn(e,t,r){this.props=e,this.context=t,this.refs=Nc,this.updater=r||bc}tn.prototype.isReactComponent={};tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pc(){}Pc.prototype=tn.prototype;function $l(e,t,r){this.props=e,this.context=t,this.refs=Nc,this.updater=r||bc}var Al=$l.prototype=new Pc;Al.constructor=$l;Cc(Al,tn.prototype);Al.isPureReactComponent=!0;var Va=Array.isArray,Tc=Object.prototype.hasOwnProperty,Dl={current:null},Rc={key:!0,ref:!0,__self:!0,__source:!0};function Lc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Tc.call(t,n)&&!Rc.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:is,type:e,key:i,ref:o,props:s,_owner:Dl.current}}function Ff(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ml(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function Bf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qa=/\/+/g;function Yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bf(""+e.key):t.toString(36)}function Us(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case is:case Tf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Yi(o,0):n,Va(s)?(r="",e!=null&&(r=e.replace(qa,"$&/")+"/"),Us(s,t,r,"",function(u){return u})):s!=null&&(Ml(s)&&(s=Ff(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qa,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Va(e))for(var l=0;l<e.length;l++){i=e[l];var a=n+Yi(i,l);o+=Us(i,t,r,a,s)}else if(a=zf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=n+Yi(i,l++),o+=Us(i,t,r,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(e,t,r){if(e==null)return e;var n=[],s=0;return Us(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Wf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},zs={transition:null},Hf={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:zs,ReactCurrentOwner:Dl};function Ic(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:gs,forEach:function(e,t,r){gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Ml(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=tn;W.Fragment=Rf;W.Profiler=If;W.PureComponent=$l;W.StrictMode=Lf;W.Suspense=Df;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf;W.act=Ic;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Cc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Dl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Tc.call(t,a)&&!Rc.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:is,type:e.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:$f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Of,_context:e},e.Consumer=e};W.createElement=Lc;W.createFactory=function(e){var t=Lc.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Af,render:e}};W.isValidElement=Ml;W.lazy=function(e){return{$$typeof:Uf,_payload:{_status:-1,_result:e},_init:Wf}};W.memo=function(e,t){return{$$typeof:Mf,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};W.unstable_act=Ic;W.useCallback=function(e,t){return Ee.current.useCallback(e,t)};W.useContext=function(e){return Ee.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ee.current.useEffect(e,t)};W.useId=function(){return Ee.current.useId()};W.useImperativeHandle=function(e,t,r){return Ee.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ee.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ee.current.useReducer(e,t,r)};W.useRef=function(e){return Ee.current.useRef(e)};W.useState=function(e){return Ee.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ee.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ee.current.useTransition()};W.version="18.3.1";Ec.exports=W;var w=Ec.exports;const Vf=Nf(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=w,Kf=Symbol.for("react.element"),Gf=Symbol.for("react.fragment"),Jf=Object.prototype.hasOwnProperty,Qf=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yf={key:!0,ref:!0,__self:!0,__source:!0};function Oc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Jf.call(t,n)&&!Yf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Kf,type:e,key:i,ref:o,props:s,_owner:Qf.current}}bi.Fragment=Gf;bi.jsx=Oc;bi.jsxs=Oc;jc.exports=bi;var c=jc.exports,Lo={},$c={exports:{}},Me={},Ac={exports:{}},Dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,T){var L=b.length;b.push(T);e:for(;0<L;){var H=L-1>>>1,Y=b[H];if(0<s(Y,T))b[H]=T,b[L]=Y,L=H;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var T=b[0],L=b.pop();if(L!==T){b[0]=L;e:for(var H=0,Y=b.length,ut=Y>>>1;H<ut;){var Fe=2*(H+1)-1,_r=b[Fe],ct=Fe+1,rr=b[ct];if(0>s(_r,L))ct<Y&&0>s(rr,_r)?(b[H]=rr,b[ct]=L,H=ct):(b[H]=_r,b[Fe]=L,H=Fe);else if(ct<Y&&0>s(rr,L))b[H]=rr,b[ct]=L,H=ct;else break e}}return T}function s(b,T){var L=b.sortIndex-T.sortIndex;return L!==0?L:b.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,g=3,y=!1,x=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(b){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=b)n(u),T.sortIndex=T.expirationTime,t(a,T);else break;T=r(u)}}function k(b){if(v=!1,m(b),!x)if(r(a)!==null)x=!0,M(S);else{var T=r(u);T!==null&&q(k,T.startTime-b)}}function S(b,T){x=!1,v&&(v=!1,p(P),P=-1),y=!0;var L=g;try{for(m(T),h=r(a);h!==null&&(!(h.expirationTime>T)||b&&!G());){var H=h.callback;if(typeof H=="function"){h.callback=null,g=h.priorityLevel;var Y=H(h.expirationTime<=T);T=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(a)&&n(a),m(T)}else n(a);h=r(a)}if(h!==null)var ut=!0;else{var Fe=r(u);Fe!==null&&q(k,Fe.startTime-T),ut=!1}return ut}finally{h=null,g=L,y=!1}}var j=!1,E=null,P=-1,$=5,O=-1;function G(){return!(e.unstable_now()-O<$)}function R(){if(E!==null){var b=e.unstable_now();O=b;var T=!0;try{T=E(!0,b)}finally{T?D():(j=!1,E=null)}}else j=!1}var D;if(typeof f=="function")D=function(){f(R)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,C=A.port2;A.port1.onmessage=R,D=function(){C.postMessage(null)}}else D=function(){_(R,0)};function M(b){E=b,j||(j=!0,D())}function q(b,T){P=_(function(){b(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,M(S))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(b){switch(g){case 1:case 2:case 3:var T=3;break;default:T=g}var L=g;g=T;try{return b()}finally{g=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=g;g=b;try{return T()}finally{g=L}},e.unstable_scheduleCallback=function(b,T,L){var H=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,b){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=L+Y,b={id:d++,callback:T,priorityLevel:b,startTime:L,expirationTime:Y,sortIndex:-1},L>H?(b.sortIndex=L,t(u,b),r(a)===null&&b===r(u)&&(v?(p(P),P=-1):v=!0,q(k,L-H))):(b.sortIndex=Y,t(a,b),x||y||(x=!0,M(S))),b},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(b){var T=g;return function(){var L=g;g=T;try{return b.apply(this,arguments)}finally{g=L}}}})(Dc);Ac.exports=Dc;var Xf=Ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=w,De=Xf;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mc=new Set,zn={};function yr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(zn[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=Object.prototype.hasOwnProperty,ep=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ka={},Ga={};function tp(e){return Io.call(Ga,e)?!0:Io.call(Ka,e)?!1:ep.test(e)?Ga[e]=!0:(Ka[e]=!0,!1)}function rp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function np(e,t,r,n){if(t===null||typeof t>"u"||rp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ul,zl);ge[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ul,zl);ge[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ul,zl);ge[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fl(e,t,r,n){var s=ge.hasOwnProperty(t)?ge[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(np(t,r,s,n)&&(r=null),n||s===null?tp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tt=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),Uc=Symbol.for("react.provider"),zc=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),$o=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Fc=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Xi;function kn(e){if(Xi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xi=t&&t[1]||""}return`
`+Xi+e}var Zi=!1;function eo(e,t){if(!e||Zi)return"";Zi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Zi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kn(e):""}function sp(e){switch(e.tag){case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 2:case 15:return e=eo(e.type,!1),e;case 11:return e=eo(e.type.render,!1),e;case 1:return e=eo(e.type,!0),e;default:return""}}function Do(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Pr:return"Portal";case Oo:return"Profiler";case Bl:return"StrictMode";case $o:return"Suspense";case Ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zc:return(e.displayName||"Context")+".Consumer";case Uc:return(e._context.displayName||"Context")+".Provider";case Wl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hl:return t=e.displayName||null,t!==null?t:Do(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return Do(e(t))}catch{}}return null}function ip(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Do(t);case 8:return t===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function op(e){var t=Bc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=op(e))}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Bc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mo(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qa(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hc(e,t){t=t.checked,t!=null&&Fl(e,"checked",t,!1)}function Uo(e,t){Hc(e,t);var r=Qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zo(e,t.type,r):t.hasOwnProperty("defaultValue")&&zo(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ya(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zo(e,t,r){(t!=="number"||Zs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Sn=Array.isArray;function Fr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xa(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Sn(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qt(r)}}function Vc(e,t){var r=Qt(t.value),n=Qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Za(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,Kc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){lp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function Gc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function Jc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Gc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ap=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wo(e,t){if(t){if(ap[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function Vl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qo=null,Br=null,Wr=null;function eu(e){if(e=as(e)){if(typeof qo!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Ri(t),qo(e.stateNode,e.type,t))}}function Qc(e){Br?Wr?Wr.push(e):Wr=[e]:Br=e}function Yc(){if(Br){var e=Br,t=Wr;if(Wr=Br=null,eu(e),t)for(e=0;e<t.length;e++)eu(t[e])}}function Xc(e,t){return e(t)}function Zc(){}var to=!1;function ed(e,t,r){if(to)return e(t,r);to=!0;try{return Xc(e,t,r)}finally{to=!1,(Br!==null||Wr!==null)&&(Zc(),Yc())}}function Bn(e,t){var r=e.stateNode;if(r===null)return null;var n=Ri(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var Ko=!1;if(Et)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Ko=!1}function up(e,t,r,n,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Nn=!1,ei=null,ti=!1,Go=null,cp={onError:function(e){Nn=!0,ei=e}};function dp(e,t,r,n,s,i,o,l,a){Nn=!1,ei=null,up.apply(cp,arguments)}function hp(e,t,r,n,s,i,o,l,a){if(dp.apply(this,arguments),Nn){if(Nn){var u=ei;Nn=!1,ei=null}else throw Error(N(198));ti||(ti=!0,Go=u)}}function wr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function td(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tu(e){if(wr(e)!==e)throw Error(N(188))}function fp(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return tu(s),e;if(i===n)return tu(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function rd(e){return e=fp(e),e!==null?nd(e):null}function nd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nd(e);if(t!==null)return t;e=e.sibling}return null}var sd=De.unstable_scheduleCallback,ru=De.unstable_cancelCallback,pp=De.unstable_shouldYield,mp=De.unstable_requestPaint,oe=De.unstable_now,gp=De.unstable_getCurrentPriorityLevel,ql=De.unstable_ImmediatePriority,id=De.unstable_UserBlockingPriority,ri=De.unstable_NormalPriority,vp=De.unstable_LowPriority,od=De.unstable_IdlePriority,Ci=null,pt=null;function yp(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ci,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:_p,wp=Math.log,xp=Math.LN2;function _p(e){return e>>>=0,e===0?32:31-(wp(e)/xp|0)|0}var xs=64,_s=4194304;function jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=jn(l):(i&=o,i!==0&&(n=jn(i)))}else o=r&~s,o!==0?n=jn(o):i!==0&&(n=jn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rt(t),s=1<<r,n|=e[r],t&=~s;return n}function kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rt(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=kp(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ld(){var e=xs;return xs<<=1,!(xs&4194240)&&(xs=64),e}function ro(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function os(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=r}function jp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-rt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Kl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function ad(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ud,Gl,cd,dd,hd,Qo=!1,ks=[],Bt=null,Wt=null,Ht=null,Wn=new Map,Hn=new Map,Dt=[],Ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":Wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function hn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=as(t),t!==null&&Gl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bp(e,t,r,n,s){switch(t){case"focusin":return Bt=hn(Bt,e,t,r,n,s),!0;case"dragenter":return Wt=hn(Wt,e,t,r,n,s),!0;case"mouseover":return Ht=hn(Ht,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Wn.set(i,hn(Wn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hn.set(i,hn(Hn.get(i)||null,e,t,r,n,s)),!0}return!1}function fd(e){var t=ar(e.target);if(t!==null){var r=wr(t);if(r!==null){if(t=r.tag,t===13){if(t=td(r),t!==null){e.blockedOn=t,hd(e.priority,function(){cd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vo=n,r.target.dispatchEvent(n),Vo=null}else return t=as(r),t!==null&&Gl(t),e.blockedOn=r,!1;t.shift()}return!0}function su(e,t,r){Fs(e)&&r.delete(t)}function Cp(){Qo=!1,Bt!==null&&Fs(Bt)&&(Bt=null),Wt!==null&&Fs(Wt)&&(Wt=null),Ht!==null&&Fs(Ht)&&(Ht=null),Wn.forEach(su),Hn.forEach(su)}function fn(e,t){e.blockedOn===t&&(e.blockedOn=null,Qo||(Qo=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Cp)))}function Vn(e){function t(s){return fn(s,e)}if(0<ks.length){fn(ks[0],e);for(var r=1;r<ks.length;r++){var n=ks[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&fn(Bt,e),Wt!==null&&fn(Wt,e),Ht!==null&&fn(Ht,e),Wn.forEach(t),Hn.forEach(t),r=0;r<Dt.length;r++)n=Dt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&(r=Dt[0],r.blockedOn===null);)fd(r),r.blockedOn===null&&Dt.shift()}var Hr=Tt.ReactCurrentBatchConfig,si=!0;function Np(e,t,r,n){var s=K,i=Hr.transition;Hr.transition=null;try{K=1,Jl(e,t,r,n)}finally{K=s,Hr.transition=i}}function Pp(e,t,r,n){var s=K,i=Hr.transition;Hr.transition=null;try{K=4,Jl(e,t,r,n)}finally{K=s,Hr.transition=i}}function Jl(e,t,r,n){if(si){var s=Yo(e,t,r,n);if(s===null)fo(e,t,n,ii,r),nu(e,n);else if(bp(s,e,t,r,n))n.stopPropagation();else if(nu(e,n),t&4&&-1<Ep.indexOf(e)){for(;s!==null;){var i=as(s);if(i!==null&&ud(i),i=Yo(e,t,r,n),i===null&&fo(e,t,n,ii,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else fo(e,t,n,null,r)}}var ii=null;function Yo(e,t,r,n){if(ii=null,e=Vl(n),e=ar(e),e!==null)if(t=wr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=td(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function pd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gp()){case ql:return 1;case id:return 4;case ri:case vp:return 16;case od:return 536870912;default:return 16}default:return 16}}var zt=null,Ql=null,Bs=null;function md(){if(Bs)return Bs;var e,t=Ql,r=t.length,n,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Bs=s.slice(e,1<n?1-n:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function iu(){return!1}function Ue(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ss:iu,this.isPropagationStopped=iu,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Ue(rn),ls=se({},rn,{view:0,detail:0}),Tp=Ue(ls),no,so,pn,Ni=se({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(no=e.screenX-pn.screenX,so=e.screenY-pn.screenY):so=no=0,pn=e),no)},movementY:function(e){return"movementY"in e?e.movementY:so}}),ou=Ue(Ni),Rp=se({},Ni,{dataTransfer:0}),Lp=Ue(Rp),Ip=se({},ls,{relatedTarget:0}),io=Ue(Ip),Op=se({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),$p=Ue(Op),Ap=se({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=Ue(Ap),Mp=se({},rn,{data:0}),lu=Ue(Mp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fp[e])?!!t[e]:!1}function Xl(){return Bp}var Wp=se({},ls,{key:function(e){if(e.key){var t=Up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hp=Ue(Wp),Vp=se({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=Ue(Vp),qp=se({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),Kp=Ue(qp),Gp=se({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=Ue(Gp),Qp=se({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yp=Ue(Qp),Xp=[9,13,27,32],Zl=Et&&"CompositionEvent"in window,Pn=null;Et&&"documentMode"in document&&(Pn=document.documentMode);var Zp=Et&&"TextEvent"in window&&!Pn,gd=Et&&(!Zl||Pn&&8<Pn&&11>=Pn),uu=" ",cu=!1;function vd(e,t){switch(e){case"keyup":return Xp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function em(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(cu=!0,uu);case"textInput":return e=t.data,e===uu&&cu?null:e;default:return null}}function tm(e,t){if(Rr)return e==="compositionend"||!Zl&&vd(e,t)?(e=md(),Bs=Ql=zt=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gd&&t.locale!=="ko"?null:t.data;default:return null}}var rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rm[e.type]:t==="textarea"}function wd(e,t,r,n){Qc(n),t=oi(t,"onChange"),0<t.length&&(r=new Yl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tn=null,qn=null;function nm(e){Td(e,0)}function Pi(e){var t=Or(e);if(Wc(t))return e}function sm(e,t){if(e==="change")return t}var xd=!1;if(Et){var oo;if(Et){var lo="oninput"in document;if(!lo){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),lo=typeof hu.oninput=="function"}oo=lo}else oo=!1;xd=oo&&(!document.documentMode||9<document.documentMode)}function fu(){Tn&&(Tn.detachEvent("onpropertychange",_d),qn=Tn=null)}function _d(e){if(e.propertyName==="value"&&Pi(qn)){var t=[];wd(t,qn,e,Vl(e)),ed(nm,t)}}function im(e,t,r){e==="focusin"?(fu(),Tn=t,qn=r,Tn.attachEvent("onpropertychange",_d)):e==="focusout"&&fu()}function om(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(qn)}function lm(e,t){if(e==="click")return Pi(t)}function am(e,t){if(e==="input"||e==="change")return Pi(t)}function um(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:um;function Kn(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Io.call(t,s)||!st(e[s],t[s]))return!1}return!0}function pu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mu(e,t){var r=pu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pu(r)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sd(){for(var e=window,t=Zs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zs(e.document)}return t}function ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cm(e){var t=Sd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kd(r.ownerDocument.documentElement,r)){if(n!==null&&ea(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=mu(r,i);var o=mu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dm=Et&&"documentMode"in document&&11>=document.documentMode,Lr=null,Xo=null,Rn=null,Zo=!1;function gu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zo||Lr==null||Lr!==Zs(n)||(n=Lr,"selectionStart"in n&&ea(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rn&&Kn(Rn,n)||(Rn=n,n=oi(Xo,"onSelect"),0<n.length&&(t=new Yl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Lr)))}function js(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},ao={},jd={};Et&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Ti(e){if(ao[e])return ao[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jd)return ao[e]=t[r];return e}var Ed=Ti("animationend"),bd=Ti("animationiteration"),Cd=Ti("animationstart"),Nd=Ti("transitionend"),Pd=new Map,vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Pd.set(e,t),yr(t,[e])}for(var uo=0;uo<vu.length;uo++){var co=vu[uo],hm=co.toLowerCase(),fm=co[0].toUpperCase()+co.slice(1);Xt(hm,"on"+fm)}Xt(Ed,"onAnimationEnd");Xt(bd,"onAnimationIteration");Xt(Cd,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(Nd,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pm=new Set("cancel close invalid load scroll toggle".split(" ").concat(En));function yu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hp(n,t,void 0,e),e.currentTarget=null}function Td(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;yu(s,l,u),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;yu(s,l,u),i=a}}}if(ti)throw e=Go,ti=!1,Go=null,e}function X(e,t){var r=t[sl];r===void 0&&(r=t[sl]=new Set);var n=e+"__bubble";r.has(n)||(Rd(t,e,2,!1),r.add(n))}function ho(e,t,r){var n=0;t&&(n|=4),Rd(r,e,n,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Es]){e[Es]=!0,Mc.forEach(function(r){r!=="selectionchange"&&(pm.has(r)||ho(r,!1,e),ho(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,ho("selectionchange",!1,t))}}function Rd(e,t,r,n){switch(pd(t)){case 1:var s=Np;break;case 4:s=Pp;break;default:s=Jl}r=s.bind(null,t,r,e),s=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function fo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ar(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}ed(function(){var u=i,d=Vl(r),h=[];e:{var g=Pd.get(e);if(g!==void 0){var y=Yl,x=e;switch(e){case"keypress":if(Ws(r)===0)break e;case"keydown":case"keyup":y=Hp;break;case"focusin":x="focus",y=io;break;case"focusout":x="blur",y=io;break;case"beforeblur":case"afterblur":y=io;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Kp;break;case Ed:case bd:case Cd:y=$p;break;case Nd:y=Jp;break;case"scroll":y=Tp;break;case"wheel":y=Yp;break;case"copy":case"cut":case"paste":y=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=au}var v=(t&4)!==0,_=!v&&e==="scroll",p=v?g!==null?g+"Capture":null:g;v=[];for(var f=u,m;f!==null;){m=f;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,p!==null&&(k=Bn(f,p),k!=null&&v.push(Jn(f,k,m)))),_)break;f=f.return}0<v.length&&(g=new y(g,x,null,r,d),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&r!==Vo&&(x=r.relatedTarget||r.fromElement)&&(ar(x)||x[bt]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?ar(x):null,x!==null&&(_=wr(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(v=ou,k="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=au,k="onPointerLeave",p="onPointerEnter",f="pointer"),_=y==null?g:Or(y),m=x==null?g:Or(x),g=new v(k,f+"leave",y,r,d),g.target=_,g.relatedTarget=m,k=null,ar(d)===u&&(v=new v(p,f+"enter",x,r,d),v.target=m,v.relatedTarget=_,k=v),_=k,y&&x)t:{for(v=y,p=x,f=0,m=v;m;m=Sr(m))f++;for(m=0,k=p;k;k=Sr(k))m++;for(;0<f-m;)v=Sr(v),f--;for(;0<m-f;)p=Sr(p),m--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=Sr(v),p=Sr(p)}v=null}else v=null;y!==null&&wu(h,g,y,v,!1),x!==null&&_!==null&&wu(h,_,x,v,!0)}}e:{if(g=u?Or(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var S=sm;else if(du(g))if(xd)S=am;else{S=om;var j=im}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=lm);if(S&&(S=S(e,u))){wd(h,S,r,d);break e}j&&j(e,g,u),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&zo(g,"number",g.value)}switch(j=u?Or(u):window,e){case"focusin":(du(j)||j.contentEditable==="true")&&(Lr=j,Xo=u,Rn=null);break;case"focusout":Rn=Xo=Lr=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":Zo=!1,gu(h,r,d);break;case"selectionchange":if(dm)break;case"keydown":case"keyup":gu(h,r,d)}var E;if(Zl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Rr?vd(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(gd&&r.locale!=="ko"&&(Rr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Rr&&(E=md()):(zt=d,Ql="value"in zt?zt.value:zt.textContent,Rr=!0)),j=oi(u,P),0<j.length&&(P=new lu(P,e,null,r,d),h.push({event:P,listeners:j}),E?P.data=E:(E=yd(r),E!==null&&(P.data=E)))),(E=Zp?em(e,r):tm(e,r))&&(u=oi(u,"onBeforeInput"),0<u.length&&(d=new lu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}Td(h,t)})}function Jn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bn(e,r),i!=null&&n.unshift(Jn(e,i,s)),i=Bn(e,t),i!=null&&n.push(Jn(e,i,s))),e=e.return}return n}function Sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=Bn(r,i),a!=null&&o.unshift(Jn(r,a,l))):s||(a=Bn(r,i),a!=null&&o.push(Jn(r,a,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var mm=/\r\n?/g,gm=/\u0000|\uFFFD/g;function xu(e){return(typeof e=="string"?e:""+e).replace(mm,`
`).replace(gm,"")}function bs(e,t,r){if(t=xu(t),xu(e)!==t&&r)throw Error(N(425))}function li(){}var el=null,tl=null;function rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nl=typeof setTimeout=="function"?setTimeout:void 0,vm=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,ym=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(e){return _u.resolve(null).then(e).catch(wm)}:nl;function wm(e){setTimeout(function(){throw e})}function po(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vn(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),ft="__reactFiber$"+nn,Qn="__reactProps$"+nn,bt="__reactContainer$"+nn,sl="__reactEvents$"+nn,xm="__reactListeners$"+nn,_m="__reactHandles$"+nn;function ar(e){var t=e[ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ku(e);e!==null;){if(r=e[ft])return r;e=ku(e)}return t}e=r,r=e.parentNode}return null}function as(e){return e=e[ft]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Ri(e){return e[Qn]||null}var il=[],$r=-1;function Zt(e){return{current:e}}function Z(e){0>$r||(e.current=il[$r],il[$r]=null,$r--)}function Q(e,t){$r++,il[$r]=e.current,e.current=t}var Yt={},_e=Zt(Yt),Re=Zt(!1),fr=Yt;function Gr(e,t){var r=e.type.contextTypes;if(!r)return Yt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Le(e){return e=e.childContextTypes,e!=null}function ai(){Z(Re),Z(_e)}function Su(e,t,r){if(_e.current!==Yt)throw Error(N(168));Q(_e,t),Q(Re,r)}function Ld(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,ip(e)||"Unknown",s));return se({},r,n)}function ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,fr=_e.current,Q(_e,e),Q(Re,Re.current),!0}function ju(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Ld(e,t,fr),n.__reactInternalMemoizedMergedChildContext=e,Z(Re),Z(_e),Q(_e,e)):Z(Re),Q(Re,r)}var xt=null,Li=!1,mo=!1;function Id(e){xt===null?xt=[e]:xt.push(e)}function km(e){Li=!0,Id(e)}function er(){if(!mo&&xt!==null){mo=!0;var e=0,t=K;try{var r=xt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xt=null,Li=!1}catch(s){throw xt!==null&&(xt=xt.slice(e+1)),sd(ql,er),s}finally{K=t,mo=!1}}return null}var Ar=[],Dr=0,ci=null,di=0,Be=[],We=0,pr=null,_t=1,kt="";function sr(e,t){Ar[Dr++]=di,Ar[Dr++]=ci,ci=e,di=t}function Od(e,t,r){Be[We++]=_t,Be[We++]=kt,Be[We++]=pr,pr=e;var n=_t;e=kt;var s=32-rt(n)-1;n&=~(1<<s),r+=1;var i=32-rt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_t=1<<32-rt(t)+s|r<<s|n,kt=i+e}else _t=1<<i|r<<s|n,kt=e}function ta(e){e.return!==null&&(sr(e,1),Od(e,1,0))}function ra(e){for(;e===ci;)ci=Ar[--Dr],Ar[Dr]=null,di=Ar[--Dr],Ar[Dr]=null;for(;e===pr;)pr=Be[--We],Be[We]=null,kt=Be[--We],Be[We]=null,_t=Be[--We],Be[We]=null}var Ae=null,$e=null,ee=!1,tt=null;function $d(e,t){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Eu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ae=e,$e=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ae=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pr!==null?{id:_t,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ae=e,$e=null,!0):!1;default:return!1}}function ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ll(e){if(ee){var t=$e;if(t){var r=t;if(!Eu(e,t)){if(ol(e))throw Error(N(418));t=Vt(r.nextSibling);var n=Ae;t&&Eu(e,t)?$d(n,r):(e.flags=e.flags&-4097|2,ee=!1,Ae=e)}}else{if(ol(e))throw Error(N(418));e.flags=e.flags&-4097|2,ee=!1,Ae=e}}}function bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ae=e}function Cs(e){if(e!==Ae)return!1;if(!ee)return bu(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rl(e.type,e.memoizedProps)),t&&(t=$e)){if(ol(e))throw Ad(),Error(N(418));for(;t;)$d(e,t),t=Vt(t.nextSibling)}if(bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$e=Vt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Ae?Vt(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=$e;e;)e=Vt(e.nextSibling)}function Jr(){$e=Ae=null,ee=!1}function na(e){tt===null?tt=[e]:tt.push(e)}var Sm=Tt.ReactCurrentBatchConfig;function mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cu(e){var t=e._init;return t(e._payload)}function Dd(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function r(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=Jt(p,f),p.index=0,p.sibling=null,p}function i(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,k){return f===null||f.tag!==6?(f=ko(m,p.mode,k),f.return=p,f):(f=s(f,m),f.return=p,f)}function a(p,f,m,k){var S=m.type;return S===Tr?d(p,f,m.props.children,k,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ot&&Cu(S)===f.type)?(k=s(f,m.props),k.ref=mn(p,f,m),k.return=p,k):(k=Qs(m.type,m.key,m.props,null,p.mode,k),k.ref=mn(p,f,m),k.return=p,k)}function u(p,f,m,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=So(m,p.mode,k),f.return=p,f):(f=s(f,m.children||[]),f.return=p,f)}function d(p,f,m,k,S){return f===null||f.tag!==7?(f=hr(m,p.mode,k,S),f.return=p,f):(f=s(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ko(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vs:return m=Qs(f.type,f.key,f.props,null,p.mode,m),m.ref=mn(p,null,f),m.return=p,m;case Pr:return f=So(f,p.mode,m),f.return=p,f;case Ot:var k=f._init;return h(p,k(f._payload),m)}if(Sn(f)||cn(f))return f=hr(f,p.mode,m,null),f.return=p,f;Ns(p,f)}return null}function g(p,f,m,k){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,f,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return m.key===S?a(p,f,m,k):null;case Pr:return m.key===S?u(p,f,m,k):null;case Ot:return S=m._init,g(p,f,S(m._payload),k)}if(Sn(m)||cn(m))return S!==null?null:d(p,f,m,k,null);Ns(p,m)}return null}function y(p,f,m,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(m)||null,l(f,p,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case vs:return p=p.get(k.key===null?m:k.key)||null,a(f,p,k,S);case Pr:return p=p.get(k.key===null?m:k.key)||null,u(f,p,k,S);case Ot:var j=k._init;return y(p,f,m,j(k._payload),S)}if(Sn(k)||cn(k))return p=p.get(m)||null,d(f,p,k,S,null);Ns(f,k)}return null}function x(p,f,m,k){for(var S=null,j=null,E=f,P=f=0,$=null;E!==null&&P<m.length;P++){E.index>P?($=E,E=null):$=E.sibling;var O=g(p,E,m[P],k);if(O===null){E===null&&(E=$);break}e&&E&&O.alternate===null&&t(p,E),f=i(O,f,P),j===null?S=O:j.sibling=O,j=O,E=$}if(P===m.length)return r(p,E),ee&&sr(p,P),S;if(E===null){for(;P<m.length;P++)E=h(p,m[P],k),E!==null&&(f=i(E,f,P),j===null?S=E:j.sibling=E,j=E);return ee&&sr(p,P),S}for(E=n(p,E);P<m.length;P++)$=y(E,p,P,m[P],k),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?P:$.key),f=i($,f,P),j===null?S=$:j.sibling=$,j=$);return e&&E.forEach(function(G){return t(p,G)}),ee&&sr(p,P),S}function v(p,f,m,k){var S=cn(m);if(typeof S!="function")throw Error(N(150));if(m=S.call(m),m==null)throw Error(N(151));for(var j=S=null,E=f,P=f=0,$=null,O=m.next();E!==null&&!O.done;P++,O=m.next()){E.index>P?($=E,E=null):$=E.sibling;var G=g(p,E,O.value,k);if(G===null){E===null&&(E=$);break}e&&E&&G.alternate===null&&t(p,E),f=i(G,f,P),j===null?S=G:j.sibling=G,j=G,E=$}if(O.done)return r(p,E),ee&&sr(p,P),S;if(E===null){for(;!O.done;P++,O=m.next())O=h(p,O.value,k),O!==null&&(f=i(O,f,P),j===null?S=O:j.sibling=O,j=O);return ee&&sr(p,P),S}for(E=n(p,E);!O.done;P++,O=m.next())O=y(E,p,P,O.value,k),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?P:O.key),f=i(O,f,P),j===null?S=O:j.sibling=O,j=O);return e&&E.forEach(function(R){return t(p,R)}),ee&&sr(p,P),S}function _(p,f,m,k){if(typeof m=="object"&&m!==null&&m.type===Tr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:e:{for(var S=m.key,j=f;j!==null;){if(j.key===S){if(S=m.type,S===Tr){if(j.tag===7){r(p,j.sibling),f=s(j,m.props.children),f.return=p,p=f;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ot&&Cu(S)===j.type){r(p,j.sibling),f=s(j,m.props),f.ref=mn(p,j,m),f.return=p,p=f;break e}r(p,j);break}else t(p,j);j=j.sibling}m.type===Tr?(f=hr(m.props.children,p.mode,k,m.key),f.return=p,p=f):(k=Qs(m.type,m.key,m.props,null,p.mode,k),k.ref=mn(p,f,m),k.return=p,p=k)}return o(p);case Pr:e:{for(j=m.key;f!==null;){if(f.key===j)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(p,f.sibling),f=s(f,m.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else t(p,f);f=f.sibling}f=So(m,p.mode,k),f.return=p,p=f}return o(p);case Ot:return j=m._init,_(p,f,j(m._payload),k)}if(Sn(m))return x(p,f,m,k);if(cn(m))return v(p,f,m,k);Ns(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(p,f.sibling),f=s(f,m),f.return=p,p=f):(r(p,f),f=ko(m,p.mode,k),f.return=p,p=f),o(p)):r(p,f)}return _}var Qr=Dd(!0),Md=Dd(!1),hi=Zt(null),fi=null,Mr=null,sa=null;function ia(){sa=Mr=fi=null}function oa(e){var t=hi.current;Z(hi),e._currentValue=t}function al(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vr(e,t){fi=e,sa=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(sa!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(fi===null)throw Error(N(308));Mr=e,fi.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var ur=null;function la(e){ur===null?ur=[e]:ur.push(e)}function Ud(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,la(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ct(e,n)}function Ct(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $t=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ct(e,r)}return s=n.interleaved,s===null?(t.next=t,la(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ct(e,r)}function Hs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kl(e,r)}}function Nu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pi(e,t,r,n){var s=e.updateQueue;$t=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=u=a=null,l=i;do{var g=l.lane,y=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(g=t,y=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(y,h,g);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(y,h,g):x,g==null)break e;h=se({},h,g);break e;case 2:$t=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,a=h):d=d.next=y,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gr|=o,e.lanes=o,e.memoizedState=h}}function Pu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var us={},mt=Zt(us),Yn=Zt(us),Xn=Zt(us);function cr(e){if(e===us)throw Error(N(174));return e}function ua(e,t){switch(Q(Xn,t),Q(Yn,e),Q(mt,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bo(t,e)}Z(mt),Q(mt,t)}function Yr(){Z(mt),Z(Yn),Z(Xn)}function Fd(e){cr(Xn.current);var t=cr(mt.current),r=Bo(t,e.type);t!==r&&(Q(Yn,e),Q(mt,r))}function ca(e){Yn.current===e&&(Z(mt),Z(Yn))}var re=Zt(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var go=[];function da(){for(var e=0;e<go.length;e++)go[e]._workInProgressVersionPrimary=null;go.length=0}var Vs=Tt.ReactCurrentDispatcher,vo=Tt.ReactCurrentBatchConfig,mr=0,ne=null,ue=null,he=null,gi=!1,Ln=!1,Zn=0,jm=0;function ve(){throw Error(N(321))}function ha(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!st(e[r],t[r]))return!1;return!0}function fa(e,t,r,n,s,i){if(mr=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?Nm:Pm,e=r(n,s),Ln){i=0;do{if(Ln=!1,Zn=0,25<=i)throw Error(N(301));i+=1,he=ue=null,t.updateQueue=null,Vs.current=Tm,e=r(n,s)}while(Ln)}if(Vs.current=vi,t=ue!==null&&ue.next!==null,mr=0,he=ue=ne=null,gi=!1,t)throw Error(N(300));return e}function pa(){var e=Zn!==0;return Zn=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ne.memoizedState=he=e:he=he.next=e,he}function Ge(){if(ue===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=he===null?ne.memoizedState:he.next;if(t!==null)he=t,ue=e;else{if(e===null)throw Error(N(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?ne.memoizedState=he=e:he=he.next=e}return he}function es(e,t){return typeof t=="function"?t(e):t}function yo(e){var t=Ge(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((mr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,ne.lanes|=d,gr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=l,st(n,t.memoizedState)||(Te=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,gr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=Ge(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);st(i,t.memoizedState)||(Te=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Bd(){}function Wd(e,t){var r=ne,n=Ge(),s=t(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Te=!0),n=n.queue,ma(qd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,ts(9,Vd.bind(null,r,n,s,t),void 0,null),fe===null)throw Error(N(349));mr&30||Hd(r,t,s)}return s}function Hd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vd(e,t,r,n){t.value=r,t.getSnapshot=n,Kd(t)&&Gd(e)}function qd(e,t,r){return r(function(){Kd(t)&&Gd(e)})}function Kd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!st(e,r)}catch{return!0}}function Gd(e){var t=Ct(e,1);t!==null&&nt(t,e,1,-1)}function Tu(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=Cm.bind(null,ne,e),[t.memoizedState,e]}function ts(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jd(){return Ge().memoizedState}function qs(e,t,r,n){var s=ht();ne.flags|=e,s.memoizedState=ts(1|t,r,void 0,n===void 0?null:n)}function Ii(e,t,r,n){var s=Ge();n=n===void 0?null:n;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,n!==null&&ha(n,o.deps)){s.memoizedState=ts(t,r,i,n);return}}ne.flags|=e,s.memoizedState=ts(1|t,r,i,n)}function Ru(e,t){return qs(8390656,8,e,t)}function ma(e,t){return Ii(2048,8,e,t)}function Qd(e,t){return Ii(4,2,e,t)}function Yd(e,t){return Ii(4,4,e,t)}function Xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zd(e,t,r){return r=r!=null?r.concat([e]):null,Ii(4,4,Xd.bind(null,t,e),r)}function ga(){}function eh(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ha(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function th(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ha(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function rh(e,t,r){return mr&21?(st(r,t)||(r=ld(),ne.lanes|=r,gr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=r)}function Em(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=vo.transition;vo.transition={};try{e(!1),t()}finally{K=r,vo.transition=n}}function nh(){return Ge().memoizedState}function bm(e,t,r){var n=Gt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sh(e))ih(t,r);else if(r=Ud(e,t,r,n),r!==null){var s=je();nt(r,e,n,s),oh(r,t,n)}}function Cm(e,t,r){var n=Gt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sh(e))ih(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,st(l,o)){var a=t.interleaved;a===null?(s.next=s,la(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}r=Ud(e,t,s,n),r!==null&&(s=je(),nt(r,e,n,s),oh(r,t,n))}}function sh(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function ih(e,t){Ln=gi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kl(e,r)}}var vi={readContext:Ke,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Nm={readContext:Ke,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Ru,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qs(4194308,4,Xd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return qs(4,2,e,t)},useMemo:function(e,t){var r=ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bm.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Tu,useDebugValue:ga,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Tu(!1),t=e[0];return e=Em.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,s=ht();if(ee){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),fe===null)throw Error(N(349));mr&30||Hd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ru(qd.bind(null,n,i,e),[e]),n.flags|=2048,ts(9,Vd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ht(),t=fe.identifierPrefix;if(ee){var r=kt,n=_t;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pm={readContext:Ke,useCallback:eh,useContext:Ke,useEffect:ma,useImperativeHandle:Zd,useInsertionEffect:Qd,useLayoutEffect:Yd,useMemo:th,useReducer:yo,useRef:Jd,useState:function(){return yo(es)},useDebugValue:ga,useDeferredValue:function(e){var t=Ge();return rh(t,ue.memoizedState,e)},useTransition:function(){var e=yo(es)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Wd,useId:nh,unstable_isNewReconciler:!1},Tm={readContext:Ke,useCallback:eh,useContext:Ke,useEffect:ma,useImperativeHandle:Zd,useInsertionEffect:Qd,useLayoutEffect:Yd,useMemo:th,useReducer:wo,useRef:Jd,useState:function(){return wo(es)},useDebugValue:ga,useDeferredValue:function(e){var t=Ge();return ue===null?t.memoizedState=e:rh(t,ue.memoizedState,e)},useTransition:function(){var e=wo(es)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Wd,useId:nh,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ul(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oi={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=je(),s=Gt(e),i=St(n,s);i.payload=t,r!=null&&(i.callback=r),t=qt(e,i,s),t!==null&&(nt(t,e,s,n),Hs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=je(),s=Gt(e),i=St(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=qt(e,i,s),t!==null&&(nt(t,e,s,n),Hs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=je(),n=Gt(e),s=St(r,n);s.tag=2,t!=null&&(s.callback=t),t=qt(e,s,n),t!==null&&(nt(t,e,n,r),Hs(t,e,n))}};function Lu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Kn(r,n)||!Kn(s,i):!0}function lh(e,t,r){var n=!1,s=Yt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Le(t)?fr:_e.current,n=t.contextTypes,i=(n=n!=null)?Gr(e,s):Yt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Iu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function cl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},aa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Le(t)?fr:_e.current,s.context=Gr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ul(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oi.enqueueReplaceState(s,s.state,null),pi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",n=t;do r+=sp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function xo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Rm=typeof WeakMap=="function"?WeakMap:Map;function ah(e,t,r){r=St(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wi||(wi=!0,_l=n),dl(e,t)},r}function uh(e,t,r){r=St(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){dl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){dl(e,t),typeof n!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ou(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Rm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Vm.bind(null,e,t,r),t.then(e,e))}function $u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Au(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=St(-1,1),t.tag=2,qt(r,t,1))),r.lanes|=1),e)}var Lm=Tt.ReactCurrentOwner,Te=!1;function Se(e,t,r,n){t.child=e===null?Md(t,null,r,n):Qr(t,e.child,r,n)}function Du(e,t,r,n,s){r=r.render;var i=t.ref;return Vr(t,s),n=fa(e,t,r,n,i,s),r=pa(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(ee&&r&&ta(t),t.flags|=1,Se(e,t,n,s),t.child)}function Mu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ja(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ch(e,t,i,n,s)):(e=Qs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(o,n)&&e.ref===t.ref)return Nt(e,t,s)}return t.flags|=1,e=Jt(i,n),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Kn(i,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,Nt(e,t,s)}return hl(e,t,r,n,s)}function dh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(zr,Oe),Oe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(zr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Q(zr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Q(zr,Oe),Oe|=n;return Se(e,t,s,r),t.child}function hh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hl(e,t,r,n,s){var i=Le(r)?fr:_e.current;return i=Gr(t,i),Vr(t,s),r=fa(e,t,r,n,i,s),n=pa(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(ee&&n&&ta(t),t.flags|=1,Se(e,t,r,s),t.child)}function Uu(e,t,r,n,s){if(Le(r)){var i=!0;ui(t)}else i=!1;if(Vr(t,s),t.stateNode===null)Ks(e,t),lh(t,r,n),cl(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Le(r)?fr:_e.current,u=Gr(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&Iu(t,o,n,u),$t=!1;var g=t.memoizedState;o.state=g,pi(t,n,o,s),a=t.memoizedState,l!==n||g!==a||Re.current||$t?(typeof d=="function"&&(ul(t,r,d,n),a=t.memoizedState),(l=$t||Lu(t,r,l,n,g,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,zd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Xe(t.type,l),o.props=u,h=t.pendingProps,g=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=Ke(a):(a=Le(r)?fr:_e.current,a=Gr(t,a));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==a)&&Iu(t,o,n,a),$t=!1,g=t.memoizedState,o.state=g,pi(t,n,o,s);var x=t.memoizedState;l!==h||g!==x||Re.current||$t?(typeof y=="function"&&(ul(t,r,y,n),x=t.memoizedState),(u=$t||Lu(t,r,u,n,g,x,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return fl(e,t,r,n,i,s)}function fl(e,t,r,n,s,i){hh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ju(t,r,!1),Nt(e,t,i);n=t.stateNode,Lm.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qr(t,e.child,null,i),t.child=Qr(t,null,l,i)):Se(e,t,l,i),t.memoizedState=n.state,s&&ju(t,r,!0),t.child}function fh(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),ua(e,t.containerInfo)}function zu(e,t,r,n,s){return Jr(),na(s),t.flags|=256,Se(e,t,r,n),t.child}var pl={dehydrated:null,treeContext:null,retryLane:0};function ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function ph(e,t,r){var n=t.pendingProps,s=re.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(re,s&1),e===null)return ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Di(o,n,0,null),e=hr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ml(r),t.memoizedState=pl,e):va(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Im(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Jt(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jt(l,i):(i=hr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ml(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=pl,n}return i=e.child,e=i.sibling,n=Jt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function va(e,t){return t=Di({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,r,n){return n!==null&&na(n),Qr(t,e.child,null,r),e=va(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Im(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=xo(Error(N(422))),Ps(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Di({mode:"visible",children:n.children},s,0,null),i=hr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qr(t,e.child,null,o),t.child.memoizedState=ml(o),t.memoizedState=pl,i);if(!(t.mode&1))return Ps(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(N(419)),n=xo(i,n,void 0),Ps(e,t,o,n)}if(l=(o&e.childLanes)!==0,Te||l){if(n=fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ct(e,s),nt(n,e,s,-1))}return Sa(),n=xo(Error(N(421))),Ps(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=Vt(s.nextSibling),Ae=t,ee=!0,tt=null,e!==null&&(Be[We++]=_t,Be[We++]=kt,Be[We++]=pr,_t=e.id,kt=e.overflow,pr=t),t=va(t,n.children),t.flags|=4096,t)}function Fu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),al(e.return,t,r)}function _o(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function mh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Se(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fu(e,r,t);else if(e.tag===19)Fu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_o(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_o(t,!0,r,null,i);break;case"together":_o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=Jt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Om(e,t,r){switch(t.tag){case 3:fh(t),Jr();break;case 5:Fd(t);break;case 1:Le(t.type)&&ui(t);break;case 4:ua(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Q(hi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?ph(e,t,r):(Q(re,re.current&1),e=Nt(e,t,r),e!==null?e.sibling:null);Q(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return mh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,dh(e,t,r)}return Nt(e,t,r)}var gh,gl,vh,yh;gh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gl=function(){};vh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,cr(mt.current);var i=null;switch(r){case"input":s=Mo(e,s),n=Mo(e,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=Fo(e,s),n=Fo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=li)}Wo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zn.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&X("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};yh=function(e,t,r,n){r!==n&&(t.flags|=4)};function gn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $m(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return Le(t.type)&&ai(),ye(t),null;case 3:return n=t.stateNode,Yr(),Z(Re),Z(_e),da(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(jl(tt),tt=null))),gl(e,t),ye(t),null;case 5:ca(t);var s=cr(Xn.current);if(r=t.type,e!==null&&t.stateNode!=null)vh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return ye(t),null}if(e=cr(mt.current),Cs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ft]=t,n[Qn]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<En.length;s++)X(En[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":Qa(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":Xa(n,i),X("invalid",n)}Wo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,l,e),s=["children",""+l]):zn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",n)}switch(r){case"input":ys(n),Ya(n,i,!0);break;case"textarea":ys(n),Za(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=li)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ft]=t,e[Qn]=n,gh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ho(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<En.length;s++)X(En[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":Qa(e,n),s=Mo(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),X("invalid",e);break;case"textarea":Xa(e,n),s=Fo(e,n),X("invalid",e);break;default:s=n}Wo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Jc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Kc(e,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Fn(e,a):typeof a=="number"&&Fn(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&X("scroll",e):a!=null&&Fl(e,i,a,o))}switch(r){case"input":ys(e),Ya(e,n,!1);break;case"textarea":ys(e),Za(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=li)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)yh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=cr(Xn.current),cr(mt.current),Cs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ft]=t,(i=n.nodeValue!==r)&&(e=Ae,e!==null))switch(e.tag){case 3:bs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ft]=t,t.stateNode=n}return ye(t),null;case 13:if(Z(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&$e!==null&&t.mode&1&&!(t.flags&128))Ad(),Jr(),t.flags|=98560,i=!1;else if(i=Cs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ft]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),i=!1}else tt!==null&&(jl(tt),tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?ce===0&&(ce=3):Sa())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Yr(),gl(e,t),e===null&&Gn(t.stateNode.containerInfo),ye(t),null;case 10:return oa(t.type._context),ye(t),null;case 17:return Le(t.type)&&ai(),ye(t),null;case 19:if(Z(re),i=t.memoizedState,i===null)return ye(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)gn(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mi(e),o!==null){for(t.flags|=128,gn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&oe()>Zr&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304)}else{if(!n)if(e=mi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return ye(t),null}else 2*oe()-i.renderingStartTime>Zr&&r!==1073741824&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=oe(),t.sibling=null,r=re.current,Q(re,n?r&1|2:r&1),t):(ye(t),null);case 22:case 23:return ka(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Am(e,t){switch(ra(t),t.tag){case 1:return Le(t.type)&&ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),Z(Re),Z(_e),da(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ca(t),null;case 13:if(Z(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(re),null;case 4:return Yr(),null;case 10:return oa(t.type._context),null;case 22:case 23:return ka(),null;case 24:return null;default:return null}}var Ts=!1,xe=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,I=null;function Ur(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ie(e,t,n)}else r.current=null}function vl(e,t,r){try{r()}catch(n){ie(e,t,n)}}var Bu=!1;function Mm(e,t){if(el=si,e=Sd(),ea(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=e,g=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)g=h,h=y;for(;;){if(h===e)break t;if(g===r&&++u===s&&(l=o),g===i&&++d===n&&(a=o),(y=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=y}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(tl={focusedElem:e,selectionRange:r},si=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,_=x.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Xe(t.type,v),_);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(k){ie(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=Bu,Bu=!1,x}function In(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&vl(t,r,i)}s=s.next}while(s!==n)}}function $i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Qn],delete t[sl],delete t[xm],delete t[_m])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xh(e){return e.tag===5||e.tag===3||e.tag===4}function Wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=li));else if(n!==4&&(e=e.child,e!==null))for(wl(e,t,r),e=e.sibling;e!==null;)wl(e,t,r),e=e.sibling}function xl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xl(e,t,r),e=e.sibling;e!==null;)xl(e,t,r),e=e.sibling}var pe=null,Ze=!1;function Lt(e,t,r){for(r=r.child;r!==null;)_h(e,t,r),r=r.sibling}function _h(e,t,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ci,r)}catch{}switch(r.tag){case 5:xe||Ur(r,t);case 6:var n=pe,s=Ze;pe=null,Lt(e,t,r),pe=n,Ze=s,pe!==null&&(Ze?(e=pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pe.removeChild(r.stateNode));break;case 18:pe!==null&&(Ze?(e=pe,r=r.stateNode,e.nodeType===8?po(e.parentNode,r):e.nodeType===1&&po(e,r),Vn(e)):po(pe,r.stateNode));break;case 4:n=pe,s=Ze,pe=r.stateNode.containerInfo,Ze=!0,Lt(e,t,r),pe=n,Ze=s;break;case 0:case 11:case 14:case 15:if(!xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vl(r,t,o),s=s.next}while(s!==n)}Lt(e,t,r);break;case 1:if(!xe&&(Ur(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ie(r,t,l)}Lt(e,t,r);break;case 21:Lt(e,t,r);break;case 22:r.mode&1?(xe=(n=xe)||r.memoizedState!==null,Lt(e,t,r),xe=n):Lt(e,t,r);break;default:Lt(e,t,r)}}function Hu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dm),t.forEach(function(n){var s=Km.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:pe=l.stateNode,Ze=!1;break e;case 3:pe=l.stateNode.containerInfo,Ze=!0;break e;case 4:pe=l.stateNode.containerInfo,Ze=!0;break e}l=l.return}if(pe===null)throw Error(N(160));_h(i,o,s),pe=null,Ze=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ie(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kh(t,e),t=t.sibling}function kh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),dt(e),n&4){try{In(3,e,e.return),$i(3,e)}catch(v){ie(e,e.return,v)}try{In(5,e,e.return)}catch(v){ie(e,e.return,v)}}break;case 1:Qe(t,e),dt(e),n&512&&r!==null&&Ur(r,r.return);break;case 5:if(Qe(t,e),dt(e),n&512&&r!==null&&Ur(r,r.return),e.flags&32){var s=e.stateNode;try{Fn(s,"")}catch(v){ie(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Hc(s,i),Ho(l,o);var u=Ho(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?Jc(s,h):d==="dangerouslySetInnerHTML"?Kc(s,h):d==="children"?Fn(s,h):Fl(s,d,h,u)}switch(l){case"input":Uo(s,i);break;case"textarea":Vc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Fr(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Fr(s,!!i.multiple,i.defaultValue,!0):Fr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qn]=i}catch(v){ie(e,e.return,v)}}break;case 6:if(Qe(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ie(e,e.return,v)}}break;case 3:if(Qe(t,e),dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(v){ie(e,e.return,v)}break;case 4:Qe(t,e),dt(e);break;case 13:Qe(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xa=oe())),n&4&&Hu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(xe=(u=xe)||d,Qe(t,e),xe=u):Qe(t,e),dt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(g=I,y=g.child,g.tag){case 0:case 11:case 14:case 15:In(4,g,g.return);break;case 1:Ur(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ie(n,r,v)}}break;case 5:Ur(g,g.return);break;case 22:if(g.memoizedState!==null){qu(h);continue}}y!==null?(y.return=g,I=y):qu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Gc("display",o))}catch(v){ie(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ie(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qe(t,e),dt(e),n&4&&Hu(e);break;case 21:break;default:Qe(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xh(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fn(s,""),n.flags&=-33);var i=Wu(e);xl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Wu(e);wl(e,l,o);break;default:throw Error(N(161))}}catch(a){ie(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e,t,r){I=e,Sh(e)}function Sh(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ts;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||xe;l=Ts;var u=xe;if(Ts=o,(xe=a)&&!u)for(I=s;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Ku(s):a!==null?(a.return=o,I=a):Ku(s);for(;i!==null;)I=i,Sh(i),i=i.sibling;I=s,Ts=l,xe=u}Vu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Vu(e)}}function Vu(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||$i(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Xe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}xe||t.flags&512&&yl(t)}catch(g){ie(t,t.return,g)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function qu(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function Ku(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$i(4,t)}catch(a){ie(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(a){ie(t,s,a)}}var i=t.return;try{yl(t)}catch(a){ie(t,i,a)}break;case 5:var o=t.return;try{yl(t)}catch(a){ie(t,o,a)}}}catch(a){ie(t,t.return,a)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var zm=Math.ceil,yi=Tt.ReactCurrentDispatcher,ya=Tt.ReactCurrentOwner,Ve=Tt.ReactCurrentBatchConfig,V=0,fe=null,ae=null,me=0,Oe=0,zr=Zt(0),ce=0,rs=null,gr=0,Ai=0,wa=0,On=null,Ne=null,xa=0,Zr=1/0,yt=null,wi=!1,_l=null,Kt=null,Rs=!1,Ft=null,xi=0,$n=0,kl=null,Gs=-1,Js=0;function je(){return V&6?oe():Gs!==-1?Gs:Gs=oe()}function Gt(e){return e.mode&1?V&2&&me!==0?me&-me:Sm.transition!==null?(Js===0&&(Js=ld()),Js):(e=K,e!==0||(e=window.event,e=e===void 0?16:pd(e.type)),e):1}function nt(e,t,r,n){if(50<$n)throw $n=0,kl=null,Error(N(185));os(e,r,n),(!(V&2)||e!==fe)&&(e===fe&&(!(V&2)&&(Ai|=r),ce===4&&Mt(e,me)),Ie(e,n),r===1&&V===0&&!(t.mode&1)&&(Zr=oe()+500,Li&&er()))}function Ie(e,t){var r=e.callbackNode;Sp(e,t);var n=ni(e,e===fe?me:0);if(n===0)r!==null&&ru(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ru(r),t===1)e.tag===0?km(Gu.bind(null,e)):Id(Gu.bind(null,e)),ym(function(){!(V&6)&&er()}),r=null;else{switch(ad(n)){case 1:r=ql;break;case 4:r=id;break;case 16:r=ri;break;case 536870912:r=od;break;default:r=ri}r=Rh(r,jh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jh(e,t){if(Gs=-1,Js=0,V&6)throw Error(N(327));var r=e.callbackNode;if(qr()&&e.callbackNode!==r)return null;var n=ni(e,e===fe?me:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_i(e,n);else{t=n;var s=V;V|=2;var i=bh();(fe!==e||me!==t)&&(yt=null,Zr=oe()+500,dr(e,t));do try{Wm();break}catch(l){Eh(e,l)}while(!0);ia(),yi.current=i,V=s,ae!==null?t=0:(fe=null,me=0,t=ce)}if(t!==0){if(t===2&&(s=Jo(e),s!==0&&(n=s,t=Sl(e,s))),t===1)throw r=rs,dr(e,0),Mt(e,n),Ie(e,oe()),r;if(t===6)Mt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Fm(s)&&(t=_i(e,n),t===2&&(i=Jo(e),i!==0&&(n=i,t=Sl(e,i))),t===1))throw r=rs,dr(e,0),Mt(e,n),Ie(e,oe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:ir(e,Ne,yt);break;case 3:if(Mt(e,n),(n&130023424)===n&&(t=xa+500-oe(),10<t)){if(ni(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=nl(ir.bind(null,e,Ne,yt),t);break}ir(e,Ne,yt);break;case 4:if(Mt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-rt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zm(n/1960))-n,10<n){e.timeoutHandle=nl(ir.bind(null,e,Ne,yt),n);break}ir(e,Ne,yt);break;case 5:ir(e,Ne,yt);break;default:throw Error(N(329))}}}return Ie(e,oe()),e.callbackNode===r?jh.bind(null,e):null}function Sl(e,t){var r=On;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=_i(e,t),e!==2&&(t=Ne,Ne=r,t!==null&&jl(t)),e}function jl(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function Fm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mt(e,t){for(t&=~wa,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rt(t),n=1<<r;e[r]=-1,t&=~n}}function Gu(e){if(V&6)throw Error(N(327));qr();var t=ni(e,0);if(!(t&1))return Ie(e,oe()),null;var r=_i(e,t);if(e.tag!==0&&r===2){var n=Jo(e);n!==0&&(t=n,r=Sl(e,n))}if(r===1)throw r=rs,dr(e,0),Mt(e,t),Ie(e,oe()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,Ne,yt),Ie(e,oe()),null}function _a(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(Zr=oe()+500,Li&&er())}}function vr(e){Ft!==null&&Ft.tag===0&&!(V&6)&&qr();var t=V;V|=1;var r=Ve.transition,n=K;try{if(Ve.transition=null,K=1,e)return e()}finally{K=n,Ve.transition=r,V=t,!(V&6)&&er()}}function ka(){Oe=zr.current,Z(zr)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vm(r)),ae!==null)for(r=ae.return;r!==null;){var n=r;switch(ra(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ai();break;case 3:Yr(),Z(Re),Z(_e),da();break;case 5:ca(n);break;case 4:Yr();break;case 13:Z(re);break;case 19:Z(re);break;case 10:oa(n.type._context);break;case 22:case 23:ka()}r=r.return}if(fe=e,ae=e=Jt(e.current,null),me=Oe=t,ce=0,rs=null,wa=Ai=gr=0,Ne=On=null,ur!==null){for(t=0;t<ur.length;t++)if(r=ur[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ur=null}return e}function Eh(e,t){do{var r=ae;try{if(ia(),Vs.current=vi,gi){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gi=!1}if(mr=0,he=ue=ne=null,Ln=!1,Zn=0,ya.current=null,r===null||r.return===null){ce=1,rs=t,ae=null;break}e:{var i=e,o=r.return,l=r,a=t;if(t=me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=$u(o);if(y!==null){y.flags&=-257,Au(y,o,l,i,t),y.mode&1&&Ou(i,u,t),t=y,a=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(a),t.updateQueue=v}else x.add(a);break e}else{if(!(t&1)){Ou(i,u,t),Sa();break e}a=Error(N(426))}}else if(ee&&l.mode&1){var _=$u(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Au(_,o,l,i,t),na(Xr(a,l));break e}}i=a=Xr(a,l),ce!==4&&(ce=2),On===null?On=[i]:On.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=ah(i,a,t);Nu(i,p);break e;case 1:l=a;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Kt===null||!Kt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=uh(i,l,t);Nu(i,k);break e}}i=i.return}while(i!==null)}Nh(r)}catch(S){t=S,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function bh(){var e=yi.current;return yi.current=vi,e===null?vi:e}function Sa(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(gr&268435455)&&!(Ai&268435455)||Mt(fe,me)}function _i(e,t){var r=V;V|=2;var n=bh();(fe!==e||me!==t)&&(yt=null,dr(e,t));do try{Bm();break}catch(s){Eh(e,s)}while(!0);if(ia(),V=r,yi.current=n,ae!==null)throw Error(N(261));return fe=null,me=0,ce}function Bm(){for(;ae!==null;)Ch(ae)}function Wm(){for(;ae!==null&&!pp();)Ch(ae)}function Ch(e){var t=Th(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Nh(e):ae=t,ya.current=null}function Nh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Am(r,t),r!==null){r.flags&=32767,ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ae=null;return}}else if(r=$m(r,t,Oe),r!==null){ae=r;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ce===0&&(ce=5)}function ir(e,t,r){var n=K,s=Ve.transition;try{Ve.transition=null,K=1,Hm(e,t,r,n)}finally{Ve.transition=s,K=n}return null}function Hm(e,t,r,n){do qr();while(Ft!==null);if(V&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jp(e,i),e===fe&&(ae=fe=null,me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rs||(Rs=!0,Rh(ri,function(){return qr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var o=K;K=1;var l=V;V|=4,ya.current=null,Mm(e,r),kh(r,e),cm(tl),si=!!el,tl=el=null,e.current=r,Um(r),mp(),V=l,K=o,Ve.transition=i}else e.current=r;if(Rs&&(Rs=!1,Ft=e,xi=s),i=e.pendingLanes,i===0&&(Kt=null),yp(r.stateNode),Ie(e,oe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wi)throw wi=!1,e=_l,_l=null,e;return xi&1&&e.tag!==0&&qr(),i=e.pendingLanes,i&1?e===kl?$n++:($n=0,kl=e):$n=0,er(),null}function qr(){if(Ft!==null){var e=ad(xi),t=Ve.transition,r=K;try{if(Ve.transition=null,K=16>e?16:e,Ft===null)var n=!1;else{if(e=Ft,Ft=null,xi=0,V&6)throw Error(N(331));var s=V;for(V|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:In(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var g=d.sibling,y=d.return;if(wh(d),d===u){I=null;break}if(g!==null){g.return=y,I=g;break}I=y}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:In(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,I=p;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){o=I;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,I=m;else e:for(o=f;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$i(9,l)}}catch(S){ie(l,l.return,S)}if(l===o){I=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,I=k;break e}I=l.return}}if(V=s,er(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ci,e)}catch{}n=!0}return n}finally{K=r,Ve.transition=t}}return!1}function Ju(e,t,r){t=Xr(r,t),t=ah(e,t,1),e=qt(e,t,1),t=je(),e!==null&&(os(e,1,t),Ie(e,t))}function ie(e,t,r){if(e.tag===3)Ju(e,e,r);else for(;t!==null;){if(t.tag===3){Ju(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kt===null||!Kt.has(n))){e=Xr(r,e),e=uh(t,e,1),t=qt(t,e,1),e=je(),t!==null&&(os(t,1,e),Ie(t,e));break}}t=t.return}}function Vm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(me&r)===r&&(ce===4||ce===3&&(me&130023424)===me&&500>oe()-xa?dr(e,0):wa|=r),Ie(e,t)}function Ph(e,t){t===0&&(e.mode&1?(t=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):t=1);var r=je();e=Ct(e,t),e!==null&&(os(e,t,r),Ie(e,r))}function qm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ph(e,r)}function Km(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),Ph(e,r)}var Th;Th=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Te=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Te=!1,Om(e,t,r);Te=!!(e.flags&131072)}else Te=!1,ee&&t.flags&1048576&&Od(t,di,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ks(e,t),e=t.pendingProps;var s=Gr(t,_e.current);Vr(t,r),s=fa(null,t,n,e,s,r);var i=pa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(n)?(i=!0,ui(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,aa(t),s.updater=Oi,t.stateNode=s,s._reactInternals=t,cl(t,n,e,r),t=fl(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&ta(t),Se(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Jm(n),e=Xe(n,e),s){case 0:t=hl(null,t,n,e,r);break e;case 1:t=Uu(null,t,n,e,r);break e;case 11:t=Du(null,t,n,e,r);break e;case 14:t=Mu(null,t,n,Xe(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),hl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Uu(e,t,n,s,r);case 3:e:{if(fh(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,zd(e,t),pi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xr(Error(N(423)),t),t=zu(e,t,n,r,s);break e}else if(n!==s){s=Xr(Error(N(424)),t),t=zu(e,t,n,r,s);break e}else for($e=Vt(t.stateNode.containerInfo.firstChild),Ae=t,ee=!0,tt=null,r=Md(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===s){t=Nt(e,t,r);break e}Se(e,t,n,r)}t=t.child}return t;case 5:return Fd(t),e===null&&ll(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,rl(n,s)?o=null:i!==null&&rl(n,i)&&(t.flags|=32),hh(e,t),Se(e,t,o,r),t.child;case 6:return e===null&&ll(t),null;case 13:return ph(e,t,r);case 4:return ua(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qr(t,null,n,r):Se(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Du(e,t,n,s,r);case 7:return Se(e,t,t.pendingProps,r),t.child;case 8:return Se(e,t,t.pendingProps.children,r),t.child;case 12:return Se(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(hi,n._currentValue),n._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Re.current){t=Nt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=St(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),al(i.return,r,t),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),al(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Se(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vr(t,r),s=Ke(s),n=n(s),t.flags|=1,Se(e,t,n,r),t.child;case 14:return n=t.type,s=Xe(n,t.pendingProps),s=Xe(n.type,s),Mu(e,t,n,s,r);case 15:return ch(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Ks(e,t),t.tag=1,Le(n)?(e=!0,ui(t)):e=!1,Vr(t,r),lh(t,n,s),cl(t,n,s,r),fl(null,t,n,!0,e,r);case 19:return mh(e,t,r);case 22:return dh(e,t,r)}throw Error(N(156,t.tag))};function Rh(e,t){return sd(e,t)}function Gm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,r,n){return new Gm(e,t,r,n)}function ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return ja(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wl)return 11;if(e===Hl)return 14}return 2}function Jt(e,t){var r=e.alternate;return r===null?(r=He(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qs(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ja(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tr:return hr(r.children,s,i,t);case Bl:o=8,s|=8;break;case Oo:return e=He(12,r,t,s|2),e.elementType=Oo,e.lanes=i,e;case $o:return e=He(13,r,t,s),e.elementType=$o,e.lanes=i,e;case Ao:return e=He(19,r,t,s),e.elementType=Ao,e.lanes=i,e;case Fc:return Di(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uc:o=10;break e;case zc:o=9;break e;case Wl:o=11;break e;case Hl:o=14;break e;case Ot:o=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=He(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function hr(e,t,r,n){return e=He(7,e,n,t),e.lanes=r,e}function Di(e,t,r,n){return e=He(22,e,n,t),e.elementType=Fc,e.lanes=r,e.stateNode={isHidden:!1},e}function ko(e,t,r){return e=He(6,e,null,t),e.lanes=r,e}function So(e,t,r){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qm(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ro(0),this.expirationTimes=ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ro(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ea(e,t,r,n,s,i,o,l,a){return e=new Qm(e,t,r,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(i),e}function Ym(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Lh(e){if(!e)return Yt;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Le(r))return Ld(e,r,t)}return t}function Ih(e,t,r,n,s,i,o,l,a){return e=Ea(r,n,!0,e,s,i,o,l,a),e.context=Lh(null),r=e.current,n=je(),s=Gt(r),i=St(n,s),i.callback=t??null,qt(r,i,s),e.current.lanes=s,os(e,s,n),Ie(e,n),e}function Mi(e,t,r,n){var s=t.current,i=je(),o=Gt(s);return r=Lh(r),t.context===null?t.context=r:t.pendingContext=r,t=St(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qt(s,t,o),e!==null&&(nt(e,s,o,i),Hs(e,s,o)),o}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ba(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}function Xm(){return null}var Oh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ca(e){this._internalRoot=e}Ui.prototype.render=Ca.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Mi(e,t,null,null)};Ui.prototype.unmount=Ca.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){Mi(null,e,null,null)}),t[bt]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=dd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&t!==0&&t<Dt[r].priority;r++);Dt.splice(r,0,e),r===0&&fd(e)}};function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yu(){}function Zm(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ki(o);i.call(u)}}var o=Ih(t,n,e,0,null,!1,!1,"",Yu);return e._reactRootContainer=o,e[bt]=o.current,Gn(e.nodeType===8?e.parentNode:e),vr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ki(a);l.call(u)}}var a=Ea(e,0,!1,null,null,!1,!1,"",Yu);return e._reactRootContainer=a,e[bt]=a.current,Gn(e.nodeType===8?e.parentNode:e),vr(function(){Mi(t,a,r,n)}),a}function Fi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ki(o);l.call(a)}}Mi(t,o,e,s)}else o=Zm(r,t,e,s,n);return ki(o)}ud=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jn(t.pendingLanes);r!==0&&(Kl(t,r|1),Ie(t,oe()),!(V&6)&&(Zr=oe()+500,er()))}break;case 13:vr(function(){var n=Ct(e,1);if(n!==null){var s=je();nt(n,e,1,s)}}),ba(e,1)}};Gl=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var r=je();nt(t,e,134217728,r)}ba(e,134217728)}};cd=function(e){if(e.tag===13){var t=Gt(e),r=Ct(e,t);if(r!==null){var n=je();nt(r,e,t,n)}ba(e,t)}};dd=function(){return K};hd=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};qo=function(e,t,r){switch(t){case"input":if(Uo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ri(n);if(!s)throw Error(N(90));Wc(n),Uo(n,s)}}}break;case"textarea":Vc(e,r);break;case"select":t=r.value,t!=null&&Fr(e,!!r.multiple,t,!1)}};Xc=_a;Zc=vr;var eg={usingClientEntryPoint:!1,Events:[as,Or,Ri,Qc,Yc,_a]},vn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tg={bundleType:vn.bundleType,version:vn.version,rendererPackageName:vn.rendererPackageName,rendererConfig:vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rd(e),e===null?null:e.stateNode},findFiberByHostInstance:vn.findFiberByHostInstance||Xm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{Ci=Ls.inject(tg),pt=Ls}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;Me.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(t))throw Error(N(200));return Ym(e,t,null,r)};Me.createRoot=function(e,t){if(!Na(e))throw Error(N(299));var r=!1,n="",s=Oh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ea(e,1,!1,null,null,r,!1,n,s),e[bt]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Ca(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=rd(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return vr(e)};Me.hydrate=function(e,t,r){if(!zi(t))throw Error(N(200));return Fi(null,e,t,!0,r)};Me.hydrateRoot=function(e,t,r){if(!Na(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Oh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Ih(t,null,e,1,r??null,s,!1,i,o),e[bt]=t.current,Gn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ui(t)};Me.render=function(e,t,r){if(!zi(t))throw Error(N(200));return Fi(null,e,t,!1,r)};Me.unmountComponentAtNode=function(e){if(!zi(e))throw Error(N(40));return e._reactRootContainer?(vr(function(){Fi(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Me.unstable_batchedUpdates=_a;Me.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zi(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Fi(e,t,r,!1,n)};Me.version="18.3.1-next-f1338f8080-20240426";function $h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($h)}catch(e){console.error(e)}}$h(),$c.exports=Me;var rg=$c.exports,Xu=rg;Lo.createRoot=Xu.createRoot,Lo.hydrateRoot=Xu.hydrateRoot;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.parse=ug;Pa.serialize=cg;const ng=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,sg=/^[\u0021-\u003A\u003C-\u007E]*$/,ig=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,og=/^[\u0020-\u003A\u003D-\u007E]*$/,lg=Object.prototype.toString,ag=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function ug(e,t){const r=new ag,n=e.length;if(n<2)return r;const s=(t==null?void 0:t.decode)||dg;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const l=e.indexOf(";",i),a=l===-1?n:l;if(o>a){i=e.lastIndexOf(";",o-1)+1;continue}const u=Zu(e,i,o),d=ec(e,o,u),h=e.slice(u,d);if(r[h]===void 0){let g=Zu(e,o+1,a),y=ec(e,a,g);const x=s(e.slice(g,y));r[h]=x}i=a+1}while(i<n);return r}function Zu(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function ec(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function cg(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!ng.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=n(t);if(!sg.test(s))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+s;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!ig.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!og.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!hg(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function dg(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function hg(e){return lg.call(e)==="[object Date]"}var tc="popstate";function fg(e={}){function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return El("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ns(s)}return mg(t,r,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function it(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pg(){return Math.random().toString(36).substring(2,10)}function rc(e,t){return{usr:e.state,key:e.key,idx:t}}function El(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sn(t):t,state:r,key:t&&t.key||n||pg()}}function ns({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function mg(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",a=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let _=d(),p=_==null?null:_-u;u=_,a&&a({action:l,location:v.location,delta:p})}function g(_,p){l="PUSH";let f=El(v.location,_,p);u=d()+1;let m=rc(f,u),k=v.createHref(f);try{o.pushState(m,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&a&&a({action:l,location:v.location,delta:1})}function y(_,p){l="REPLACE";let f=El(v.location,_,p);u=d();let m=rc(f,u),k=v.createHref(f);o.replaceState(m,"",k),i&&a&&a({action:l,location:v.location,delta:0})}function x(_){return gg(_)}let v={get action(){return l},get location(){return e(s,o)},listen(_){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(tc,h),a=_,()=>{s.removeEventListener(tc,h),a=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let p=x(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:y,go(_){return o.go(_)}};return v}function gg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),te(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ns(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Ah(e,t,r="/"){return vg(e,t,r,!1)}function vg(e,t,r,n){let s=typeof t=="string"?sn(t):t,i=Pt(s.pathname||"/",r);if(i==null)return null;let o=Dh(e);yg(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=Pg(i);l=Cg(o[a],u,n)}return l}function Dh(e,t=[],r=[],n=""){let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(te(a.relativePath.startsWith(n),`Absolute route path "${a.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(n.length));let u=jt([n,a.relativePath]),d=r.concat(a);i.children&&i.children.length>0&&(te(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Dh(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Eg(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of Mh(i.path))s(i,o,a)}),t}function Mh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Mh(n.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function yg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var wg=/^:[\w-]+$/,xg=3,_g=2,kg=1,Sg=10,jg=-2,nc=e=>e==="*";function Eg(e,t){let r=e.split("/"),n=r.length;return r.some(nc)&&(n+=jg),t&&(n+=_g),r.filter(s=>!nc(s)).reduce((s,i)=>s+(wg.test(i)?xg:i===""?kg:Sg),n)}function bg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Cg(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let a=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Si({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),g=a.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Si({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:jt([i,h.pathname]),pathnameBase:Ig(jt([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=jt([i,h.pathnameBase]))}return o}function Si(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ng(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let x=l[g]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[g];return h&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Ng(e,t=!1,r=!0){it(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(n.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Pg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return it(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Tg(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?sn(e):e;return{pathname:r?r.startsWith("/")?r:Rg(r,t):t,search:Og(n),hash:$g(s)}}function Rg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jo(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ta(e){let t=Lg(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ra(e,t,r,n=!1){let s;typeof e=="string"?s=sn(e):(s={...e},te(!s.pathname||!s.pathname.includes("?"),jo("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),jo("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),jo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}l=h>=0?t[h]:"/"}let a=Tg(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}var jt=e=>e.join("/").replace(/\/\/+/g,"/"),Ig=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Og=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$g=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ag(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Uh=["POST","PUT","PATCH","DELETE"];new Set(Uh);var Dg=["GET",...Uh];new Set(Dg);var on=w.createContext(null);on.displayName="DataRouter";var Bi=w.createContext(null);Bi.displayName="DataRouterState";var zh=w.createContext({isTransitioning:!1});zh.displayName="ViewTransition";var Mg=w.createContext(new Map);Mg.displayName="Fetchers";var Ug=w.createContext(null);Ug.displayName="Await";var ot=w.createContext(null);ot.displayName="Navigation";var cs=w.createContext(null);cs.displayName="Location";var lt=w.createContext({outlet:null,matches:[],isDataRoute:!1});lt.displayName="Route";var La=w.createContext(null);La.displayName="RouteError";function zg(e,{relative:t}={}){te(ln(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(ot),{hash:s,pathname:i,search:o}=ds(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:jt([r,i])),n.createHref({pathname:l,search:o,hash:s})}function ln(){return w.useContext(cs)!=null}function Rt(){return te(ln(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(cs).location}var Fh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bh(e){w.useContext(ot).static||w.useLayoutEffect(e)}function ze(){let{isDataRoute:e}=w.useContext(lt);return e?e0():Fg()}function Fg(){te(ln(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(on),{basename:t,navigator:r}=w.useContext(ot),{matches:n}=w.useContext(lt),{pathname:s}=Rt(),i=JSON.stringify(Ta(n)),o=w.useRef(!1);return Bh(()=>{o.current=!0}),w.useCallback((a,u={})=>{if(it(o.current,Fh),!o.current)return;if(typeof a=="number"){r.go(a);return}let d=Ra(a,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:jt([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}w.createContext(null);function Bg(){let{matches:e}=w.useContext(lt),t=e[e.length-1];return t?t.params:{}}function ds(e,{relative:t}={}){let{matches:r}=w.useContext(lt),{pathname:n}=Rt(),s=JSON.stringify(Ta(r));return w.useMemo(()=>Ra(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Wg(e,t){return Wh(e,t)}function Wh(e,t,r,n){var p;te(ln(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(ot),{matches:i}=w.useContext(lt),o=i[i.length-1],l=o?o.params:{},a=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let f=d&&d.path||"";Hh(a,!d||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let h=Rt(),g;if(t){let f=typeof t=="string"?sn(t):t;te(u==="/"||((p=f.pathname)==null?void 0:p.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${f.pathname}" was given in the \`location\` prop.`),g=f}else g=h;let y=g.pathname||"/",x=y;if(u!=="/"){let f=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(f.length).join("/")}let v=Ah(e,{pathname:x});it(d||v!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),it(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Gg(v&&v.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:jt([u,s.encodeLocation?s.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?u:jt([u,s.encodeLocation?s.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),i,r,n);return t&&_?w.createElement(cs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function Hg(){let e=Zg(),t=Ag(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,o)}var Vg=w.createElement(Hg,null),qg=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(lt.Provider,{value:this.props.routeContext},w.createElement(La.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kg({routeContext:e,match:t,children:r}){let n=w.useContext(on);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(lt.Provider,{value:e},r)}function Gg(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let a=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);te(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,a+1))}let o=!1,l=-1;if(r)for(let a=0;a<s.length;a++){let u=s[a];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=a),u.route.id){let{loaderData:d,errors:h}=r,g=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||g){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((a,u,d)=>{let h,g=!1,y=null,x=null;r&&(h=i&&u.route.id?i[u.route.id]:void 0,y=u.route.errorElement||Vg,o&&(l<0&&d===0?(Hh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):l===d&&(g=!0,x=u.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,d+1)),_=()=>{let p;return h?p=y:g?p=x:u.route.Component?p=w.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=a,w.createElement(Kg,{match:u,routeContext:{outlet:a,matches:v,isDataRoute:r!=null},children:p})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?w.createElement(qg,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}function Ia(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jg(e){let t=w.useContext(on);return te(t,Ia(e)),t}function Qg(e){let t=w.useContext(Bi);return te(t,Ia(e)),t}function Yg(e){let t=w.useContext(lt);return te(t,Ia(e)),t}function Oa(e){let t=Yg(e),r=t.matches[t.matches.length-1];return te(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Xg(){return Oa("useRouteId")}function Zg(){var n;let e=w.useContext(La),t=Qg("useRouteError"),r=Oa("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function e0(){let{router:e}=Jg("useNavigate"),t=Oa("useNavigate"),r=w.useRef(!1);return Bh(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{it(r.current,Fh),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var sc={};function Hh(e,t,r){!t&&!sc[e]&&(sc[e]=!0,it(!1,r))}w.memo(t0);function t0({routes:e,future:t,state:r}){return Wh(e,void 0,r,t)}function $a({to:e,replace:t,state:r,relative:n}){te(ln(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(ot);it(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(lt),{pathname:o}=Rt(),l=ze(),a=Ra(e,Ta(i),o,n==="path"),u=JSON.stringify(a);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function gt(e){te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){te(!ln(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=sn(r));let{pathname:a="/",search:u="",hash:d="",state:h=null,key:g="default"}=r,y=w.useMemo(()=>{let x=Pt(a,o);return x==null?null:{location:{pathname:x,search:u,hash:d,state:h,key:g},navigationType:n}},[o,a,u,d,h,g,n]);return it(y!=null,`<Router basename="${o}"> is not able to match the URL "${a}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:w.createElement(ot.Provider,{value:l},w.createElement(cs.Provider,{children:t,value:y}))}function n0({children:e,location:t}){return Wg(bl(e),t)}function bl(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,bl(n.props.children,i));return}te(n.type===gt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),te(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=bl(n.props.children,i)),r.push(o)}),r}var Ys="get",Xs="application/x-www-form-urlencoded";function Wi(e){return e!=null&&typeof e.tagName=="string"}function s0(e){return Wi(e)&&e.tagName.toLowerCase()==="button"}function i0(e){return Wi(e)&&e.tagName.toLowerCase()==="form"}function o0(e){return Wi(e)&&e.tagName.toLowerCase()==="input"}function l0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a0(e,t){return e.button===0&&(!t||t==="_self")&&!l0(e)}var Is=null;function u0(){if(Is===null)try{new FormData(document.createElement("form"),0),Is=!1}catch{Is=!0}return Is}var c0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eo(e){return e!=null&&!c0.has(e)?(it(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xs}"`),null):e}function d0(e,t){let r,n,s,i,o;if(i0(e)){let l=e.getAttribute("action");n=l?Pt(l,t):null,r=e.getAttribute("method")||Ys,s=Eo(e.getAttribute("enctype"))||Xs,i=new FormData(e)}else if(s0(e)||o0(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(n=a?Pt(a,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Ys,s=Eo(e.getAttribute("formenctype"))||Eo(l.getAttribute("enctype"))||Xs,i=new FormData(l,e),!u0()){let{name:u,type:d,value:h}=e;if(d==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,h)}}else{if(Wi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ys,n=null,s=Xs,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}function Aa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function h0(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f0(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p0(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await h0(i,r);return o.links?o.links():[]}return[]}));return y0(n.flat(1).filter(f0).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ic(e,t,r,n,s,i){let o=(a,u)=>r[u]?a.route.id!==r[u].route.id:!0,l=(a,u)=>{var d;return r[u].pathname!==a.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,u)=>o(a,u)||l(a,u)):i==="data"?t.filter((a,u)=>{var h;let d=n.routes[a.route.id];if(!d||!d.hasLoader)return!1;if(o(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let g=a.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function m0(e,t,{includeHydrateFallback:r}={}){return g0(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function g0(e){return[...new Set(e)]}function v0(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function y0(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(v0(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w0=new Set([100,101,204,205]);function x0(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Pt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Vh(){let e=w.useContext(on);return Aa(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _0(){let e=w.useContext(Bi);return Aa(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Da=w.createContext(void 0);Da.displayName="FrameworkContext";function qh(){let e=w.useContext(Da);return Aa(e,"You must render this element inside a <HydratedRouter> element"),e}function k0(e,t){let r=w.useContext(Da),[n,s]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,g=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=p=>{p.forEach(f=>{o(f.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let y=()=>{s(!0)},x=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:yn(l,y),onBlur:yn(a,x),onMouseEnter:yn(u,y),onMouseLeave:yn(d,x),onTouchStart:yn(h,y)}]:[!1,g,{}]}function yn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function S0({page:e,...t}){let{router:r}=Vh(),n=w.useMemo(()=>Ah(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(E0,{page:e,matches:n,...t}):null}function j0(e){let{manifest:t,routeModules:r}=qh(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return p0(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function E0({page:e,matches:t,...r}){let n=Rt(),{manifest:s,routeModules:i}=qh(),{basename:o}=Vh(),{loaderData:l,matches:a}=_0(),u=w.useMemo(()=>ic(e,t,a,s,n,"data"),[e,t,a,s,n]),d=w.useMemo(()=>ic(e,t,a,s,n,"assets"),[e,t,a,s,n]),h=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,v=!1;if(t.forEach(p=>{var m;let f=s.routes[p.route.id];!f||!f.hasLoader||(!u.some(k=>k.route.id===p.route.id)&&p.route.id in l&&((m=i[p.route.id])!=null&&m.shouldRevalidate)||f.hasClientLoader?v=!0:x.add(p.route.id))}),x.size===0)return[];let _=x0(e,o);return v&&x.size>0&&_.searchParams.set("_routes",t.filter(p=>x.has(p.route.id)).map(p=>p.route.id).join(",")),[_.pathname+_.search]},[o,l,n,s,u,t,e,i]),g=w.useMemo(()=>m0(d,s),[d,s]),y=j0(d);return w.createElement(w.Fragment,null,h.map(x=>w.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),g.map(x=>w.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),y.map(({key:x,link:v})=>w.createElement("link",{key:x,...v})))}function b0(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Kh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kh&&(window.__reactRouterVersion="7.6.3")}catch{}function C0({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=fg({window:r,v5Compat:!0}));let s=n.current,[i,o]=w.useState({action:s.action,location:s.location}),l=w.useCallback(a=>{w.startTransition(()=>o(a))},[o]);return w.useLayoutEffect(()=>s.listen(l),[s,l]),w.createElement(r0,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Gh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jh=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:a,to:u,preventScrollReset:d,viewTransition:h,...g},y){let{basename:x}=w.useContext(ot),v=typeof u=="string"&&Gh.test(u),_,p=!1;if(typeof u=="string"&&v&&(_=u,Kh))try{let $=new URL(window.location.href),O=u.startsWith("//")?new URL($.protocol+u):new URL(u),G=Pt(O.pathname,x);O.origin===$.origin&&G!=null?u=G+O.search+O.hash:p=!0}catch{it(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let f=zg(u,{relative:s}),[m,k,S]=k0(n,g),j=R0(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:s,viewTransition:h});function E($){t&&t($),$.defaultPrevented||j($)}let P=w.createElement("a",{...g,...S,href:_||f,onClick:p||i?t:E,ref:b0(y,k),target:a,"data-discover":!v&&r==="render"?"true":void 0});return m&&!v?w.createElement(w.Fragment,null,P,w.createElement(S0,{page:f})):P});Jh.displayName="Link";var N0=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:a,...u},d){let h=ds(o,{relative:u.relative}),g=Rt(),y=w.useContext(Bi),{navigator:x,basename:v}=w.useContext(ot),_=y!=null&&A0(h)&&l===!0,p=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,f=g.pathname,m=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(f=f.toLowerCase(),m=m?m.toLowerCase():null,p=p.toLowerCase()),m&&v&&(m=Pt(m,v)||m);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let S=f===p||!s&&f.startsWith(p)&&f.charAt(k)==="/",j=m!=null&&(m===p||!s&&m.startsWith(p)&&m.charAt(p.length)==="/"),E={isActive:S,isPending:j,isTransitioning:_},P=S?t:void 0,$;typeof n=="function"?$=n(E):$=[n,S?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(E):i;return w.createElement(Jh,{...u,"aria-current":P,className:$,ref:d,style:O,to:o,viewTransition:l},typeof a=="function"?a(E):a)});N0.displayName="NavLink";var P0=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Ys,action:l,onSubmit:a,relative:u,preventScrollReset:d,viewTransition:h,...g},y)=>{let x=O0(),v=$0(l,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&Gh.test(l),f=m=>{if(a&&a(m),m.defaultPrevented)return;m.preventDefault();let k=m.nativeEvent.submitter,S=(k==null?void 0:k.getAttribute("formmethod"))||o;x(k||m.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:y,method:_,action:v,onSubmit:n?a:f,...g,"data-discover":!p&&e==="render"?"true":void 0})});P0.displayName="Form";function T0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qh(e){let t=w.useContext(on);return te(t,T0(e)),t}function R0(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=ze(),a=Rt(),u=ds(e,{relative:i});return w.useCallback(d=>{if(a0(d,t)){d.preventDefault();let h=r!==void 0?r:ns(a)===ns(u);l(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[a,l,u,r,n,t,e,s,i,o])}var L0=0,I0=()=>`__${String(++L0)}__`;function O0(){let{router:e}=Qh("useSubmit"),{basename:t}=w.useContext(ot),r=Xg();return w.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:a,body:u}=d0(n,t);if(s.navigate===!1){let d=s.fetcherKey||I0();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function $0(e,{relative:t}={}){let{basename:r}=w.useContext(ot),n=w.useContext(lt);te(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ds(e||".",{relative:t})},o=Rt();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),a=l.getAll("index");if(a.some(d=>d==="")){l.delete("index"),a.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:jt([r,i.pathname])),ns(i)}function A0(e,t={}){let r=w.useContext(zh);te(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Qh("useViewTransitionState"),s=ds(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Pt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Pt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Si(s.pathname,o)!=null||Si(s.pathname,i)!=null}[...w0];const D0="modulepreload",M0=function(e){return"/weekmenu/"+e},oc={},hs=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=M0(a),a in oc)return;oc[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":D0,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},U0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ma extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class z0 extends Ma{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lc extends Ma{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ac extends Ma{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cl||(Cl={}));var F0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class B0{constructor(t,{headers:r={},customFetch:n,region:s=Cl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=U0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return F0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region);const u=new URL(`${this.url}/${t}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new z0(v)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new lc(h);if(!h.ok)throw new ac(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield h.json():y==="application/octet-stream"?x=yield h.blob():y==="text/event-stream"?x=h:y==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof ac||s instanceof lc?s.context:void 0}}})}}var Pe={},Ua={},Hi={},fs={},Vi={},qi={},W0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},en=W0();const H0=en.fetch,Yh=en.fetch.bind(en),Xh=en.Headers,V0=en.Request,q0=en.Response,an=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xh,Request:V0,Response:q0,default:Yh,fetch:H0},Symbol.toStringTag,{value:"Module"})),K0=Pf(an);var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});let G0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ki.default=G0;var Zh=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const J0=Zh(K0),Q0=Zh(Ki);let Y0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=J0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,d=null,h=null,g=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,y="OK")}catch{i.status===404&&v===""?(g=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&this.shouldThrowOnError)throw new Q0.default(u)}return{error:u,data:d,count:h,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};qi.default=Y0;var X0=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const Z0=X0(qi);let ev=class extends Z0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vi.default=ev;var tv=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fs,"__esModule",{value:!0});const rv=tv(Vi);let nv=class extends rv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};fs.default=nv;var sv=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const wn=sv(fs);let iv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new wn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new wn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new wn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new wn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hi.default=iv;var Gi={},Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.version=void 0;Ji.version="0.0.0-automated";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.DEFAULT_HEADERS=void 0;const ov=Ji;Gi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ov.version}`};var ef=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ua,"__esModule",{value:!0});const lv=ef(Hi),av=ef(fs),uv=Gi;let cv=class tf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},uv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new lv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new av.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Ua.default=cv;var un=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const rf=un(Ua);Pe.PostgrestClient=rf.default;const nf=un(Hi);Pe.PostgrestQueryBuilder=nf.default;const sf=un(fs);Pe.PostgrestFilterBuilder=sf.default;const of=un(Vi);Pe.PostgrestTransformBuilder=of.default;const lf=un(qi);Pe.PostgrestBuilder=lf.default;const af=un(Ki);Pe.PostgrestError=af.default;var dv=Pe.default={PostgrestClient:rf.default,PostgrestQueryBuilder:nf.default,PostgrestFilterBuilder:sf.default,PostgrestTransformBuilder:of.default,PostgrestBuilder:lf.default,PostgrestError:af.default};const{PostgrestClient:hv,PostgrestQueryBuilder:kw,PostgrestFilterBuilder:Sw,PostgrestTransformBuilder:jw,PostgrestBuilder:Ew,PostgrestError:bw}=dv;function fv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const pv=fv(),mv="2.11.15",gv=`realtime-js/${mv}`,vv="1.0.0",uf=1e4,yv=1e3;var An;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(An||(An={}));var we;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(we||(we={}));var et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(et||(et={}));var Nl;(function(e){e.websocket="websocket"})(Nl||(Nl={}));var lr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lr||(lr={}));class wv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const a=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class cf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const uc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=xv(o,e,t,s),i),{})},xv=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?df(i,o):Pl(o)},df=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jv(t,r)}switch(e){case J.bool:return _v(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return kv(t);case J.json:case J.jsonb:return Sv(t);case J.timestamp:return Ev(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Pl(t);default:return Pl(t)}},Pl=e=>e,_v=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>df(t,l))}return e},Ev=e=>typeof e=="string"?e.replace(" ","T"):e,hf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class bo{constructor(t,r,n={},s=uf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cc||(cc={}));class Dn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Dn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const g=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),x=d.filter(_=>y.indexOf(_.presence_ref)<0),v=h.filter(_=>g.indexOf(_.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(a[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(y=>y.presence_ref),g=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...g)}n(l,d,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,a),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dc||(dc={}));var hc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hc||(hc={}));var wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class za{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bo(this,et.join,this.params,this.timeout),this.rejoinTimer=new cf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Dn(this),this.broadcastEndpointURL=hf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(wt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(wt.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(wt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<y;v++){const _=g[v],{filter:{event:p,schema:f,table:m,filter:k}}=_,S=d&&d[v];if(S&&S.event===p&&S.schema===f&&S.table===m&&S.filter===k)x.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),this.state=we.errored,t==null||t(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(wt.SUBSCRIBED);return}}).receive("error",d=>{this.state=we.errored,t==null||t(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=we.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new bo(this,et.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=et;if(n&&[l,a,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,v,_;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(v=y.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,v,_,p,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const k=y.id,S=(x=y.filter)===null||x===void 0?void 0:x.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(f=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return k==="*"||k===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:v,table:_,commit_timestamp:p,type:f,errors:m}=x;g=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:p,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(x))}y.callback(g,n)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&za.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(et.close,{},t)}_onError(t){this._on(et.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uc(t.columns,t.old_record)),r}}const fc=()=>{},bv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new wv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>hs(async()=>{const{default:a}=await Promise.resolve().then(()=>an);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Nl.websocket}`,this.httpEndpoint=hf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=pv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return lr.Connecting;case An.open:return lr.Open;case An.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new za(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:gv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(yv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(et.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([bv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Fa extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Nv extends Fa{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Tl extends Fa{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Pv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tv=()=>Pv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>an),void 0)).Response:Response}),Rl=e=>{if(Array.isArray(e))return e.map(r=>Rl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Rl(n)}),t};var xr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const Co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rv=(e,t,r)=>xr(void 0,void 0,void 0,function*(){const n=yield Tv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Nv(Co(s),e.status||500))}).catch(s=>{t(new Tl(Co(s),s))}):t(new Tl(Co(e),e))}),Lv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ps(e,t,r,n,s,i){return xr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Lv(t,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Rv(a,l,n))})})}function ji(e,t,r,n){return xr(this,void 0,void 0,function*(){return ps(e,"GET",t,r,n)})}function At(e,t,r,n,s){return xr(this,void 0,void 0,function*(){return ps(e,"POST",t,n,s,r)})}function Iv(e,t,r,n,s){return xr(this,void 0,void 0,function*(){return ps(e,"PUT",t,n,s,r)})}function Ov(e,t,r,n){return xr(this,void 0,void 0,function*(){return ps(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function pf(e,t,r,n,s){return xr(this,void 0,void 0,function*(){return ps(e,"DELETE",t,n,s,r)})}var Ce=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const $v={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Av{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ff(s)}uploadOrUpdate(t,r,n,s){return Ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield h.json();return h.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const u=Object.assign({upsert:pc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(de(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,r){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Fa("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ce(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(t,r){return Ce(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ji(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}})}info(t){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ji(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rl(n),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}exists(t){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ov(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(de(n)&&n instanceof Tl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ce(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},$v),r),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Dv="2.7.1",Mv={"X-Client-Info":`storage-js/${Dv}`};var jr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class Uv{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Mv),r),this.fetch=ff(n)}listBuckets(){return jr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return jr(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return jr(this,void 0,void 0,function*(){try{return{data:yield Iv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}emptyBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}deleteBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}}class zv extends Uv{constructor(t,r={},n){super(t,r,n)}from(t){return new Av(this.url,this.headers,t,this.fetch)}}const Fv="2.50.3";let bn="";typeof Deno<"u"?bn="deno":typeof document<"u"?bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bn="react-native":bn="node";const Bv={"X-Client-Info":`supabase-js-${bn}/${Fv}`},Wv={headers:Bv},Hv={schema:"public"},Vv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qv={};var Kv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const Gv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yh:t=fetch,(...r)=>t(...r)},Jv=()=>typeof Headers>"u"?Xh:Headers,Qv=(e,t,r)=>{const n=Gv(r),s=Jv();return(i,o)=>Kv(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Yv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};function Xv(e){return e.endsWith("/")?e:e+"/"}function Zv(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:a,auth:u,realtime:d,global:h}=t,g={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Yv(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const mf="2.70.0",Nr=30*1e3,Ll=3,No=Ll*Nr,ey="http://localhost:9999",ty="supabase.auth.token",ry={"X-Client-Info":`gotrue-js/${mf}`},Il="X-Supabase-Api-Version",gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ny=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sy=6e5;class Ba extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iy extends Ba{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function oy(e){return U(e)&&e.name==="AuthApiError"}class vf extends Ba{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class tr extends Ba{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class It extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ly(e){return U(e)&&e.name==="AuthSessionMissingError"}class Os extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class As extends tr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ay(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class mc extends tr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ol extends tr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Po(e){return U(e)&&e.name==="AuthRetryableFetchError"}class gc extends tr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Mn extends tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vc=` 	
\r=`.split(""),uy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vc.length;t+=1)e[vc[t].charCodeAt(0)]=-2;for(let t=0;t<Ei.length;t+=1)e[Ei[t].charCodeAt(0)]=t;return e})();function yc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ei[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ei[n]),t.queuedBits-=6}}function yf(e,t,r){const n=uy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{hy(o,n,r)};for(let o=0;o<e.length;o+=1)yf(e.charCodeAt(o),s,i);return t.join("")}function cy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cy(n,t)}}function hy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function py(e){const t=[];return dy(e,r=>t.push(r)),new Uint8Array(t)}function my(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>yc(s,r,n)),yc(null,r,n),t.join("")}function gy(e){return Math.round(Date.now()/1e3)+e}function vy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ye=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},Un=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function yy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const wf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>an);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},wy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ds=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ms=async(e,t)=>{await e.removeItem(t)};class Qi{constructor(){this.promise=new Qi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Qi.promiseConstructor=Promise;function To(e){const t=e.split(".");if(t.length!==3)throw new Mn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ny.test(t[n]))throw new Mn("JWT not in base64url format");return{header:JSON.parse(wc(t[0])),payload:JSON.parse(wc(t[1])),signature:fy(t[2]),raw:{header:t[0],payload:t[1]}}}async function xy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _y(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function ky(e){return("0"+e.toString(16)).substr(-2)}function Sy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ky).join("")}async function jy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Ey(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(e,t,r=!1){const n=Sy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await xf(e,`${t}-code-verifier`,s);const i=await Ey(n);return[i,n===i?"plain":"s256"]}const by=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cy(e){const t=e.headers.get(Il);if(!t||!t.match(by))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ny(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Py(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ty=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(e){if(!Ty.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Ry=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ly=[502,503,504];async function xc(e){var t;if(!wy(e))throw new Ol(or(e),0);if(Ly.includes(e.status))throw new Ol(or(e),e.status);let r;try{r=await e.json()}catch(i){throw new vf(or(i),i)}let n;const s=Cy(e);if(s&&s.getTime()>=gf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gc(or(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gc(or(r),e.status,r.weak_password.reasons);throw new iy(or(r),e.status||500,n)}const Iy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Il]||(i[Il]=gf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Oy(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function Oy(e,t,r,n,s,i){const o=Iy(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(a){throw console.error(a),new Ol(or(a),0)}if(l.ok||await xc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await xc(a)}}function vt(e){var t;let r=null;My(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _c(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ut(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $y(e){return{data:e,error:null}}function Ay(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Ry(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Dy(e){return e}function My(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ro=["global","local","others"];var Uy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class zy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=wf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ro[0]){if(Ro.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ut})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ay,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ut})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Dy});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){br(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ut})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){br(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ut})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){br(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ut})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){br(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){br(t.userId),br(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}const Fy={getItem:e=>Un()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Un()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Un()&&globalThis.localStorage.removeItem(e)}};function kc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function By(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cr={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _f extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wy extends _f{}async function Hy(e,t,r){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}By();const Vy={url:ey,storageKey:ty,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ry,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sc(e,t,r){return await r()}class ss{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Vy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wf(s.fetch),this.lock=s.lock||Sc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ye()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Hy:this.lock=Sc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Un()?this.storage=Fy:(this.memoryStorage={},this.storage=kc(this.memoryStorage)):(this.memoryStorage={},this.storage=kc(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=yy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ay(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new vf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:g}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Er(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:x},xform:vt})}else if("phone"in t){const{phone:d,password:h,options:g}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:vt})}else throw new $s("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_c})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_c})}else throw new $s("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Os}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,a,u,d,h,g,y;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:_,wallet:p,statement:f,options:m}=t;let k;if(Ye())if(typeof p=="object")k=p;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))k=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const j=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:_,error:p}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:my(v)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:vt});if(p)throw p;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Os}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:p})}catch(_){if(U(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Ds(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vt});if(await Ms(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Os}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Os}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Er(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $s("You must provide either an email or phone number.")}catch(l){if(U(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Er(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$y})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new It;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new $s("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<No:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ut}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(r){if(U(r))return ly(r)&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new It;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await Er(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ut});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=To(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new It;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ye())throw new As("No browser detected.");if(t.error||t.error_description||t.error_code)throw new As(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mc("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!i||!l||!o||!u)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;a&&(g=parseInt(a));const y=g-d;y*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=g-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(oy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=vy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Er(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:h,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ye()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _y(async s=>(s>0&&await xy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Po(i)&&Date.now()+o-n<Nr})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ds(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<No;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${No}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Po(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return Po(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ms(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Ll} ticks`),s<=Ll&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _f)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Er(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=To(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+sy>Date.now()))return n;const{data:s,error:i}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Mn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Mn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=To(n);if(Ny(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=Py(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,py(`${l}.${a}`)))throw new Mn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}ss.nextInstanceID=0;const qy=ss;class Ky extends qy{constructor(t){super(t)}}var Gy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class Jy{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Xv(t),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Hv,realtime:qv,auth:Object.assign(Object.assign({},Vv),{storageKey:u}),global:Wv},h=Zv(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Qv(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new hv(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new B0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zv(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Gy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ky({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Cv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qy=(e,t,r)=>new Jy(e,t,r),Yy="https://padeskjkdetesmfuicvm.supabase.co",Xy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhZGVza2prZGV0ZXNtZnVpY3ZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MTg0NTMsImV4cCI6MjA2NzQ5NDQ1M30.LaXPbA4P5G3kGyko8rX-moR-PNYcltv3S0Ltt6E9aFE",F=Qy(Yy,Xy);typeof window<"u"&&(window.supabase=F);const kf=w.createContext({}),at=()=>{const e=w.useContext(kf);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Zy=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState(null),[i,o]=w.useState(null),[l,a]=w.useState(!0);w.useEffect(()=>{let v=null;const _=async()=>{try{const f=localStorage.getItem("sb-padeskjkdetesmfuicvm-auth-token");if(f)try{const S=JSON.parse(f);if(S&&S.access_token){const{data:{user:j},error:E}=await F.auth.getUser(S.access_token);if(!E&&j){r(j);return}}}catch(S){console.error("Error parsing stored session:",S)}const m=F.auth.getSession(),k=new Promise((S,j)=>setTimeout(()=>j(new Error("Session check timeout")),2e3));try{const{data:{session:S},error:j}=await Promise.race([m,k]);r(!j&&S?S.user:null)}catch{console.error("Session check timed out"),r(null)}a(!1)}catch(f){console.error("Error in getSession:",f),a(!1)}};v=setTimeout(()=>{l&&a(!1)},3e3),_();const{data:{subscription:p}}=F.auth.onAuthStateChange(async(f,m)=>{r((m==null?void 0:m.user)??null),f==="INITIAL_SESSION"&&(m!=null&&m.user)&&!n?await u(m.user.id):m!=null&&m.user||(s(null),o(null)),v&&(clearTimeout(v),v=null),a(!1)});return()=>{v&&clearTimeout(v),p.unsubscribe()}},[]);const u=async v=>{try{const _=F.from("users").select("*, subscription:subscriptions(*)").eq("id",v).single(),p=new Promise((f,m)=>setTimeout(()=>m(new Error("Profile fetch timeout")),2e3));try{const{data:f,error:m}=await Promise.race([_,p]);if(m)return;s(f),o(f==null?void 0:f.subscription)}catch{}}catch{}},x={user:t,userProfile:n,subscription:i,loading:l,signInWithEmail:async(v,_)=>{const{data:p,error:f}=await F.auth.signInWithPassword({email:v,password:_});return{data:p,error:f}},signUpWithEmail:async(v,_,p={})=>{const{data:f,error:m}=await F.auth.signUp({email:v,password:_,options:{data:p}});return{data:f,error:m}},signInWithGoogle:async()=>{const{data:v,error:_}=await F.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/weekmenu/auth/callback`}});return{data:v,error:_}},signOut:async()=>{const{error:v}=await F.auth.signOut();return{error:v}}};return c.jsx(kf.Provider,{value:x,children:e})},Sf=w.createContext({}),jf=()=>{const e=w.useContext(Sf);if(!e)throw new Error("useWeekMenu must be used within a WeekMenuProvider");return e},ew=({children:e})=>{const{user:t,subscription:r}=at(),[n,s]=w.useState(null),[i,o]=w.useState(!0),[l,a]=w.useState(!1),[u,d]=w.useState(!navigator.onLine),[h,g]=w.useState(null),y=w.useRef(null),x=w.useRef(1);w.useEffect(()=>{(()=>{try{const E=localStorage.getItem("weekmenu");if(E){const P=JSON.parse(E);s(P),x.current=P.version||1}}catch(E){console.error("Error loading weekmenu from localStorage:",E)}})()},[]),w.useEffect(()=>{if(!t||!(r!=null&&r.id)){o(!1);return}if((n==null?void 0:n.subscriptionId)===r.id){o(!1);return}(async()=>{try{o(!0);const{data:E,error:P}=await F.from("weekmenus").select("*").eq("subscription_id",r.id).order("updated_at",{ascending:!1}).limit(1);if(P)throw P;const $=E&&E.length>0?E[0]:null;if($){const O={subscriptionId:$.subscription_id,seed:$.seed,version:$.version,recipes:$.recipes,updatedAt:$.updated_at,id:$.id},G=JSON.parse(localStorage.getItem("weekmenu")||"{}");(!G.updatedAt||new Date($.updated_at)>new Date(G.updatedAt))&&(s(O),x.current=$.version,localStorage.setItem("weekmenu",JSON.stringify(O)))}else if(!n){const O={subscriptionId:r.id,seed:Math.floor(Math.random()*999999)+1,version:1,recipes:[],updatedAt:new Date().toISOString()};s(O),localStorage.setItem("weekmenu",JSON.stringify(O))}}catch(E){console.error("Error loading weekmenu from database:",E),g(E.message)}finally{o(!1)}})()},[t,r==null?void 0:r.id]);const v=w.useCallback(async j=>{if(!(!t||!(r!=null&&r.id)))try{a(!0);const E={subscription_id:j.subscriptionId,seed:j.seed,version:j.version,recipes:j.recipes};if(j.id){const{error:P}=await F.from("weekmenus").update(E).eq("id",j.id);if(P)throw P}else{const{data:P,error:$}=await F.from("weekmenus").insert([E]).select().single();if($)throw $;const O={...j,id:P.id};s(O),localStorage.setItem("weekmenu",JSON.stringify(O))}}catch(E){console.error("Error syncing weekmenu to database:",E),g(E.message)}finally{a(!1)}},[t,r==null?void 0:r.id]),_=w.useCallback(j=>{const E={...n,...j,version:x.current+1,updatedAt:new Date().toISOString()};x.current=E.version,s(E),localStorage.setItem("weekmenu",JSON.stringify(E)),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{v(E)},5e3)},[n,v]),p=w.useCallback((j,E=(r==null?void 0:r.default_servings)||4)=>{if(!n)return;n.recipes.findIndex($=>$.recipeId===j)===-1&&_({recipes:[...n.recipes,{recipeId:j,servings:E}]})},[n,_,r==null?void 0:r.default_servings]),f=w.useCallback(j=>{n&&_({recipes:n.recipes.filter(E=>E.recipeId!==j)})},[n,_]),m=w.useCallback((j,E)=>{n&&_({recipes:n.recipes.map(P=>P.recipeId===j?{...P,servings:E}:P)})},[n,_]),k=w.useCallback(()=>{const j={subscriptionId:(r==null?void 0:r.id)||(n==null?void 0:n.subscriptionId),seed:Math.floor(Math.random()*999999)+1,version:1,recipes:[],updatedAt:new Date().toISOString()};x.current=1,s(j),localStorage.setItem("weekmenu",JSON.stringify(j)),v(j)},[r==null?void 0:r.id,n==null?void 0:n.subscriptionId,v]);w.useEffect(()=>{const j=()=>{u&&(d(!1),n&&v(n))},E=()=>{u||d(!0)};return window.addEventListener("online",j),window.addEventListener("offline",E),()=>{window.removeEventListener("online",j),window.removeEventListener("offline",E)}},[n,v]),w.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const S={weekmenu:n,isLoading:i,isSyncing:l,isOffline:u,error:h,addRecipe:p,removeRecipe:f,updateServings:m,clearMenu:k,syncNow:()=>n&&v(n)};return c.jsx(Sf.Provider,{value:S,children:e})},tw=()=>{const[e,t]=w.useState(!0),[r,n]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(""),[a,u]=w.useState(!1),[d,h]=w.useState(""),{signInWithEmail:g,signUpWithEmail:y,signInWithGoogle:x}=at(),v=async p=>{p.preventDefault(),u(!0),h("");try{if(e){const{error:f}=await g(r,s);if(f)throw f}else{const{error:f}=await y(r,s,{full_name:o});if(f)throw f}}catch(f){h(f.message)}finally{u(!1)}},_=async()=>{u(!0),h("");try{const{error:p}=await x();if(p)throw p}catch(p){h(p.message)}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Weekmenu"}),c.jsx("p",{className:"text-gray-600",children:e?"Sign in to your account":"Create your account"})]}),d&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:d}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[!e&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("input",{id:"fullName",type:"text",value:o,onChange:p=>l(p.target.value),required:!e,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{id:"email",type:"email",value:r,onChange:p=>n(p.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsx("input",{id:"password",type:"password",value:s,onChange:p=>i(p.target.value),required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password"})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Loading...":e?"Sign In":"Sign Up"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),c.jsxs("button",{onClick:_,disabled:a,className:"mt-4 w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[c.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>t(!e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},xn=({children:e})=>{const r=Rt().pathname==="/menu-selector";return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:c.jsx("main",{className:r?"w-full":"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})})},rw=()=>{const e=ze(),{userProfile:t,subscription:r}=at(),[n,s]=w.useState(!0),[i,o]=w.useState([]),[l,a]=w.useState([]),[u,d]=w.useState(!1),[h,g]=w.useState(""),[y,x]=w.useState(!1);w.useEffect(()=>{t!=null&&t.subscription_id&&(v(),_())},[t]);const v=async()=>{try{const{data:S,error:j}=await F.from("shopping_lists").select(`
          *,
          store:stores(name, chain:store_chains(name, logo_url)),
          items:shopping_list_items(count)
        `).eq("subscription_id",t.subscription_id).order("is_active",{ascending:!1}).order("created_at",{ascending:!1}).limit(4);if(j)throw j;o(S||[])}catch(S){console.error("Error fetching lists:",S)}finally{s(!1)}},_=async()=>{try{const{data:S,error:j}=await F.from("stores").select("id, name, chain:store_chains(name)").order("name");if(j)throw j;a(S||[])}catch(S){console.error("Error fetching stores:",S)}},p=async()=>{r!=null&&r.default_store_id?i.find(j=>j.store_id===r.default_store_id&&j.is_active)?d(!0):await f(r.default_store_id):d(!0)},f=async S=>{x(!0);try{const{data:j,error:E}=await F.from("shopping_lists").insert({name:"Shopping List",subscription_id:t.subscription_id,store_id:S}).select().single();if(E)throw E;e(`/shopping-list/${j.id}`)}catch(j){console.error("Error creating list:",j),j.code==="23505"?(alert("A shopping list for this store already exists"),v()):alert("Failed to create shopping list")}finally{x(!1),d(!1)}};if(n)return c.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsx("div",{className:"h-24 bg-gray-200 rounded"}),c.jsx("div",{className:"h-24 bg-gray-200 rounded"}),c.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})]})});const m=i.slice(0,3),k=i.length>3;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 border-2 border-transparent",children:[c.jsx("div",{className:"mb-6",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shopping Lists"})}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[m.map(S=>{var j,E,P,$,O,G,R,D,A;return c.jsx("button",{onClick:()=>e(`/shopping-list/${S.id}`),className:"relative group",children:c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 hover:bg-gray-100 transition-all border-2 border-transparent hover:border-green-500 hover:shadow-md",children:[c.jsx("div",{className:"mb-2 text-center",children:(E=(j=S.store)==null?void 0:j.chain)!=null&&E.logo_url?c.jsx("img",{src:S.store.chain.logo_url,alt:S.store.chain.name,className:"w-12 h-12 mx-auto object-contain"}):c.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),c.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:((G=(P=S.store)==null?void 0:P.name)==null?void 0:G.replace(((O=($=S.store)==null?void 0:$.chain)==null?void 0:O.name)+" ",""))||((R=S.store)==null?void 0:R.name)||"No store"}),c.jsxs("p",{className:"text-xs text-gray-500",children:[((A=(D=S.items)==null?void 0:D[0])==null?void 0:A.count)||0," items"]}),S.is_active&&c.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-green-500 rounded-full"})]})},S.id)}),c.jsxs("button",{onClick:p,className:"bg-gray-50 rounded-lg p-6 hover:bg-gray-100 transition-all border-2 border-dashed border-gray-300 hover:border-green-500 hover:shadow-md group",children:[c.jsx("div",{className:"text-4xl mb-2 text-center text-gray-400 group-hover:text-green-600",children:"+"}),c.jsx("p",{className:"text-sm font-medium text-gray-600 group-hover:text-gray-800",children:"New List"})]}),k&&c.jsx("div",{className:"bg-gray-50 rounded-lg p-6 flex items-center justify-center",children:c.jsx("span",{className:"text-2xl text-gray-400",children:"..."})})]})]}),u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Select Store"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store"}),c.jsxs("select",{value:h,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",autoFocus:!0,children:[c.jsx("option",{value:"",children:"Select a store..."}),l.map(S=>c.jsx("option",{value:S.id,children:S.name},S.id))]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>{d(!1),g("")},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:()=>h&&f(h),disabled:!h||y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Creating...":"Create List"})]})]})})]})},nw=()=>{var a;const e=ze(),{weekmenu:t}=jf(),[r,n]=w.useState([]),[s,i]=w.useState(!0);w.useEffect(()=>{o()},[t]);const o=async()=>{try{if(!(t!=null&&t.seed)){i(!1);return}const u=`random_order_${(t.seed-1)%20+1}`,{data:d,error:h}=await F.from("recipes").select("id, title, image_url").order(u).limit(4);!h&&d&&n(d)}catch(u){console.error("Error fetching recipes:",u)}finally{i(!1)}},l=((a=t==null?void 0:t.recipes)==null?void 0:a.length)||0;return c.jsx("button",{onClick:()=>e("/menu-selector"),className:"w-full bg-white rounded-lg shadow-lg p-8 transition-all hover:shadow-xl border-2 border-transparent hover:border-green-500 cursor-pointer text-left group",children:c.jsxs("div",{className:"flex gap-6",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"grid grid-cols-2 gap-1 w-52 h-52",children:[0,1,2,3].map(u=>{const d=r[u];return c.jsx("div",{className:"relative bg-gray-100 rounded overflow-hidden",children:s?c.jsx("div",{className:"w-full h-full animate-pulse bg-gray-200"}):d?c.jsx("img",{src:d.image_url,alt:d.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-50",children:c.jsx("svg",{className:"w-6 h-6 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})},u)})})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Recipe Selector"}),l>0&&c.jsxs("p",{className:"text-gray-600",children:[l," ",l===1?"recipe":"recipes"," selected"]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-green-600 transition-colors",children:[c.jsx("span",{children:"Click to browse recipes"}),c.jsx("svg",{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})};function sw(){const e=ze(),{userProfile:t}=at();return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow cursor-pointer h-full",onClick:()=>e("/weekmenu/settings"),children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-3 bg-gray-100 rounded-lg mr-4",children:c.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Settings"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Manage your profile and account settings"}),(t==null?void 0:t.full_name)&&c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.full_name]})]})}const iw=()=>{const e=ze();return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Admin Tools"}),c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Admin Only"})]}),c.jsx("div",{className:"space-y-4",children:c.jsx("button",{onClick:()=>e("/recipe-monitor"),className:"w-full text-left p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Recipe Processing Monitor"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor recipe search queries and URL candidate processing"})]}),c.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})})]})},ow=()=>{const{user:e,userProfile:t}=at();return ze(),c.jsx("div",{className:"space-y-8",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx(nw,{}),c.jsx(rw,{}),c.jsx(sw,{}),(t==null?void 0:t.is_admin)&&c.jsx(iw,{})]})})},lw=()=>{const e=ze();return w.useEffect(()=>{(async()=>{try{const{data:r,error:n}=await F.auth.getSession();if(n){console.error("Error during auth callback:",n),e("/login");return}r.session?e("/"):e("/login")}catch(r){console.error("Error during auth callback:",r),e("/login")}})()},[e]),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsx("div",{className:"bg-white p-8 rounded-lg shadow-xl",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Completing sign in..."}),c.jsx("p",{className:"text-gray-600",children:"Please wait while we redirect you."})]})})})};function Ef({recipe:e,isSelected:t,selectedRecipe:r,onAdd:n,onRemove:s,onUpdateServings:i,size:o="normal"}){const a={normal:{button:"py-3 lg:py-4 px-4 lg:px-6 text-base lg:text-lg",servingButton:"w-9 h-9 lg:w-11 lg:h-11 text-lg lg:text-xl",servingText:"text-base lg:text-lg w-10 lg:w-12",removeButton:"text-base lg:text-lg"},large:{button:"py-4 px-6 text-lg",servingButton:"w-11 h-11 text-xl",servingText:"text-lg w-12",removeButton:"text-lg"}}[o],u=d=>{d.stopPropagation()};return t?c.jsxs("div",{className:"flex items-center justify-between",onClick:u,children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:d=>{u(d),i(e.id,-1)},className:`rounded-md border border-gray-300 hover:bg-gray-100 ${a.servingButton}`,children:"−"}),c.jsx("span",{className:`font-medium text-center ${a.servingText}`,children:r.servings}),c.jsx("button",{onClick:d=>{u(d),i(e.id,1)},className:`rounded-md border border-gray-300 hover:bg-gray-100 ${a.servingButton}`,children:"+"})]}),c.jsx("button",{onClick:d=>{u(d),s(e.id)},className:`text-red-600 hover:text-red-700 font-medium ${a.removeButton}`,children:"Remove"})]}):c.jsx("button",{onClick:d=>{u(d),n(e.id)},className:`w-full bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium ${a.button}`,children:"Add to menu"})}function aw({recipe:e,isSelected:t,selectedRecipe:r,onClose:n,onAdd:s,onRemove:i,onUpdateServings:o}){const[l,a]=w.useState([]),[u,d]=w.useState(!0);w.useEffect(()=>{e!=null&&e.id&&h()},[e==null?void 0:e.id]);const h=async()=>{d(!0);try{const{data:y,error:x}=await F.from("recipe_ingredients").select(`
          quantity,
          unit,
          dutch_description,
          products (
            id,
            name
          )
        `).eq("recipe_id",e.id).order("ingredient_order");if(x){console.error("Error fetching ingredients:",x);return}a(y||[])}catch(y){console.error("Error:",y)}finally{d(!1)}},g=y=>{y.target===y.currentTarget&&n()};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:g,"data-testid":"recipe-modal-backdrop",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col","data-testid":"recipe-modal",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 transition-colors z-10","data-testid":"modal-close",children:c.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-64 sm:h-80 object-cover"}),t&&c.jsx("div",{className:"absolute top-4 left-4 bg-green-500 text-white rounded-full p-2",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.seasonal&&c.jsx("div",{className:"absolute bottom-4 left-4 bg-orange-500 text-white px-3 py-1 rounded text-sm font-medium",children:"🍂 Seasonal"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.title}),c.jsxs("span",{className:"text-lg text-gray-500 flex-shrink-0 ml-4",children:[e.cookingTime,"m"]})]}),e.url&&c.jsx("div",{className:"mb-6",children:c.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[c.jsx("span",{className:"mr-2",children:"View original recipe"}),c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Ingrediënten"}),u?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.length>0?c.jsx("ul",{className:"space-y-2",children:l.map((y,x)=>{var v,_;return c.jsxs("li",{className:"flex items-center text-gray-700",children:[c.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mr-3 flex-shrink-0"}),c.jsxs("span",{children:[y.quantity>0&&`${y.quantity} `,y.unit&&`${y.unit} `,y.dutch_description||((v=y.products)==null?void 0:v.name)||"Unknown ingredient",y.dutch_description&&((_=y.products)==null?void 0:_.name)&&c.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",y.products.name,")"]})]})]},x)})}):c.jsx("p",{className:"text-gray-500 italic",children:"No ingredients available"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bereidingswijze"}),e.cooking_instructions?c.jsx("div",{className:"prose prose-sm max-w-none",children:c.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:e.cooking_instructions})}):c.jsx("p",{className:"text-gray-500 italic",children:"Geen bereidingswijze beschikbaar"})]})]}),c.jsx("div",{className:"border-t p-6",children:c.jsx(Ef,{recipe:e,isSelected:t,selectedRecipe:r,onAdd:s,onRemove:i,onUpdateServings:o,size:"large"})})]})}):null}function uw({recipes:e,onClose:t}){const r=ze(),{userProfile:n}=at(),[s,i]=w.useState(!0),[o,l]=w.useState(!1),[a,u]=w.useState([]),[d,h]=w.useState([]),[g,y]=w.useState(""),[x,v]=w.useState(!0),[_,p]=w.useState("Recipe Shopping List"),[f,m]=w.useState(""),[k,S]=w.useState([]);w.useEffect(()=>{j()},[e]);const j=async()=>{i(!0);try{const R=e.map(L=>L.recipeId),{data:D,error:A}=await F.from("recipe_ingredients").select(`
          *,
          recipe:recipes(title, default_servings),
          product:products(
            *,
            store_category:store_categories(category_name)
          )
        `).in("recipe_id",R).order("ingredient_order");if(A)throw A;const C=D.map(L=>{var ut;const H=e.find(Fe=>Fe.recipeId===L.recipe_id),Y=H&&L.recipe?H.servings/(L.recipe.default_servings||4):1;return{id:L.id,recipeId:L.recipe_id,recipeTitle:(ut=L.recipe)==null?void 0:ut.title,description:L.description,dutchDescription:L.dutch_description,quantity:L.quantity?L.quantity*Y:null,unit:L.unit,productId:L.product_id,product:L.product,searchQuery:"",searchResults:[],customName:""}});u(C);const{data:M,error:q}=await F.from("shopping_lists").select("*").eq("subscription_id",n.subscription_id).eq("is_active",!0).order("created_at",{ascending:!1});if(q)throw q;h(M||[]);const{data:b,error:T}=await F.from("stores").select("id, name").order("name");if(T)throw T;S(b||[])}catch(R){console.error("Error fetching data:",R)}finally{i(!1)}},E=async(R,D)=>{if(D.trim())try{const{data:A,error:C}=await F.from("products").select("*, store_category:store_categories(category_name)").ilike("name",`%${D}%`).limit(5);if(C)throw C;u(a.map(M=>M.id===R?{...M,searchResults:A||[],searchQuery:D}:M))}catch(A){console.error("Error searching products:",A)}},P=(R,D)=>{u(a.map(A=>A.id===R?{...A,productId:D.id,product:D,searchResults:[],searchQuery:""}:A))},$=R=>{u(a.map(D=>D.id===R?{...D,productId:null,product:null,customName:""}:D))},O=(R,D)=>{u(a.map(A=>A.id===R?{...A,customName:D,productId:null,product:null}:A))},G=async()=>{l(!0);try{let R=g;if(x){const{data:A,error:C}=await F.from("shopping_lists").insert({name:_.trim(),subscription_id:n.subscription_id,store_id:f||null}).select().single();if(C)throw C;R=A.id}const D=a.filter(A=>A.productId||A.customName).map(A=>{const C={shopping_list_id:R,quantity:A.quantity||1,unit:A.unit,recipe_id:A.recipeId};return A.productId?{...C,product_id:A.productId,display_order:999}:{...C,custom_name:A.customName,display_order:999}});if(D.length>0){const{error:A}=await F.from("shopping_list_items").insert(D);if(A)throw A}r(`/shopping-list/${R}`)}catch(R){console.error("Error saving to shopping list:",R),alert("Failed to add items to shopping list")}finally{l(!1)}};return s?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})})}):c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Recipes to Shopping List"}),c.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Select Shopping List"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:x,onChange:()=>v(!0),className:"mr-2"}),c.jsx("span",{children:"Create new list"})]}),x&&c.jsxs("div",{className:"ml-6 space-y-3",children:[c.jsx("input",{type:"text",value:_,onChange:R=>p(R.target.value),placeholder:"List name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsxs("select",{value:f,onChange:R=>m(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select store (optional)"}),k.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))]})]}),d.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!x,onChange:()=>{v(!1),y(d[0].id)},className:"mr-2"}),c.jsx("span",{children:"Add to existing list"})]}),!x&&c.jsx("select",{value:g,onChange:R=>y(R.target.value),className:"ml-6 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Review Ingredients"}),a.map(R=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsx("div",{className:"flex justify-between items-start mb-2",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:"font-medium text-gray-800",children:[R.quantity&&`${R.quantity} ${R.unit||""}`," ",R.description]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["from ",R.recipeTitle]})]})}),R.product?c.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-3 rounded mt-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-green-800",children:R.product.name}),c.jsxs("p",{className:"text-sm text-green-600",children:[R.product.quantity," ",R.product.unit," - €",R.product.unit_price]})]}),c.jsx("button",{onClick:()=>$(R.id),className:"text-red-600 hover:text-red-700",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):R.customName?c.jsxs("div",{className:"flex items-center justify-between bg-blue-50 p-3 rounded mt-2",children:[c.jsxs("p",{className:"font-medium text-blue-800",children:["Custom: ",R.customName]}),c.jsx("button",{onClick:()=>O(R.id,""),className:"text-red-600 hover:text-red-700",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:R.searchQuery,onChange:D=>{u(a.map(A=>A.id===R.id?{...A,searchQuery:D.target.value}:A)),D.target.value.length>2&&E(R.id,D.target.value)},placeholder:"Search products...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx("button",{onClick:()=>O(R.id,R.description),className:"px-4 py-2 text-blue-600 hover:text-blue-700 font-medium",children:"Custom"})]}),R.searchResults.length>0&&c.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:R.searchResults.map(D=>c.jsxs("button",{onClick:()=>P(R.id,D),className:"w-full p-2 hover:bg-gray-50 text-left border-b last:border-b-0",children:[c.jsx("p",{className:"font-medium",children:D.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:[D.quantity," ",D.unit," - €",D.unit_price]})]},D.id))})]})]},R.id))]})]}),c.jsxs("div",{className:"p-6 border-t flex justify-end space-x-3",children:[c.jsx("button",{onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:G,disabled:o||!x&&!g||x&&!_.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Adding...":"Add to Shopping List"})]})]})})}function cw(){var ut,Fe,_r,ct,rr,Wa;const e=ze(),{weekmenu:t,isLoading:r,isSyncing:n,isOffline:s,addRecipe:i,removeRecipe:o,updateServings:l}=jf(),{subscription:a}=at(),[u,d]=w.useState([]),[h,g]=w.useState(!0),[y,x]=w.useState(!1),[v,_]=w.useState(!1),[p,f]=w.useState(0),[m,k]=w.useState(!0),[S,j]=w.useState(0),[E,P]=w.useState(!1),[$,O]=w.useState(null),[G,R]=w.useState(!1),D=w.useRef(!1),A=w.useRef(),C=w.useRef(),M=w.useRef(),q=24,b=w.useCallback(async(z=0)=>{if(!(D.current||!(t!=null&&t.seed))){D.current=!0,g(!0);try{if(z===0){const{count:Je}=await F.from("recipes").select("*",{count:"exact",head:!0});j(Je||0)}const le=`random_order_${(t.seed-1)%20+1}`,{data:ke,error:kr}=await F.from("recipes").select(`
          id,
          title,
          time_estimation,
          image_url,
          url,
          cooking_instructions
        `).order(le,{ascending:!0}).range(z*q,(z+1)*q-1);if(kr){console.error("Error fetching recipes:",kr);return}const ms=ke.map(Je=>{const bf=["pompoen","spruitjes","witloof","pastinaak","pompoene"].some(Cf=>Je.title.toLowerCase().includes(Cf));return{id:Je.id,title:Je.title,cookingTime:Je.time_estimation||30,category:"main",seasonal:bf,imageUrl:Je.image_url||"https://via.placeholder.com/300x200",url:Je.url,cooking_instructions:Je.cooking_instructions}});d(z===0?ms:Je=>[...Je,...ms]),k(ke.length===q),f(z)}catch(le){console.error("Error in fetchRecipes:",le)}finally{g(!1),D.current=!1}}},[t==null?void 0:t.seed]);w.useEffect(()=>{t!=null&&t.seed&&b(0)},[t==null?void 0:t.seed,b]),w.useEffect(()=>{const z={root:null,rootMargin:"100px",threshold:.1};return A.current=new IntersectionObserver(le=>{le[0].isIntersecting&&m&&!D.current&&b(p+1)},z),()=>{A.current&&A.current.disconnect()}},[m,p,b]),w.useEffect(()=>{if(!D.current&&A.current){C.current&&A.current.unobserve(C.current);const z=document.querySelectorAll(".recipe-card");z.length>0&&(C.current=z[z.length-1],A.current.observe(C.current))}},[u]),w.useEffect(()=>{var z;((z=t==null?void 0:t.recipes)==null?void 0:z.length)>0&&!v&&(x(!0),_(!0))},[(ut=t==null?void 0:t.recipes)==null?void 0:ut.length,v]),w.useEffect(()=>(n?(P(!0),M.current&&clearTimeout(M.current)):E&&(M.current=setTimeout(()=>{P(!1)},1e3)),()=>{M.current&&clearTimeout(M.current)}),[n,E]);const T=z=>{var le;return((le=t==null?void 0:t.recipes)==null?void 0:le.some(ke=>ke.recipeId===z))||!1},L=z=>{var le;return(le=t==null?void 0:t.recipes)==null?void 0:le.find(ke=>ke.recipeId===z)},H=z=>{i(z,(a==null?void 0:a.default_servings)||4)},Y=(z,le)=>{const ke=L(z);if(ke){const kr=Math.max(1,ke.servings+le);l(z,kr)}};return r?c.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your menu..."})]})}):c.jsxs("div",{className:"flex h-[calc(100vh-4rem)] bg-gray-50",children:[c.jsx("div",{className:`flex-1 overflow-y-auto p-3 sm:p-4 lg:p-6 xl:p-8 transition-all duration-300 ${y&&((Fe=t==null?void 0:t.recipes)==null?void 0:Fe.length)>0?"lg:mr-80":""}`,children:c.jsxs("div",{className:"w-full mx-auto",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("button",{onClick:()=>e("/weekmenu/"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})}),c.jsx("div",{className:"flex justify-end items-center mb-4",children:c.jsx("div",{className:"flex items-center space-x-4",children:s&&c.jsxs("div",{className:"flex items-center text-sm text-orange-600 bg-orange-50 px-3 py-1 rounded-full","data-testid":"offline-indicator",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),"Working offline"]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 min-[1400px]:grid-cols-3 gap-2 sm:gap-3 lg:gap-4",children:u.map((z,le)=>{const ke=T(z.id),kr=L(z.id),ms=le===u.length-1;return c.jsxs("div",{className:`recipe-card bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer ${ms?"last-recipe":""}`,"data-testid":"recipe-card",onClick:()=>O(z),children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:z.imageUrl,alt:z.title,className:"w-full h-64 sm:h-72 lg:h-80 xl:h-96 object-cover"}),ke&&c.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full p-2",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),z.seasonal&&c.jsx("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 py-1 rounded text-xs font-medium",children:"🍂 Seasonal"})]}),c.jsxs("div",{className:"p-5 lg:p-6 xl:p-7",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3 lg:mb-4",children:[c.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 pr-2",children:z.title}),c.jsxs("span",{className:"text-sm sm:text-base lg:text-lg text-gray-500 flex-shrink-0",children:[z.cookingTime,"m"]})]}),c.jsx(Ef,{recipe:z,isSelected:ke,selectedRecipe:kr,onAdd:H,onRemove:o,onUpdateServings:Y})]})]},z.id)})}),h&&p>0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto"})}),!m&&u.length>0&&c.jsx("div",{className:"text-center py-12 text-gray-500",children:c.jsx("p",{className:"text-lg",children:"You've reached the end of our recipes!"})})]})}),((_r=t==null?void 0:t.recipes)==null?void 0:_r.length)>0&&!y&&c.jsx("button",{onClick:()=>x(!0),className:"fixed right-0 top-1/2 -translate-y-1/2 bg-blue-600 text-white py-3 px-3 rounded-l-lg shadow-lg hover:bg-blue-700 hover:px-4 transition-all group","data-testid":"sidebar-toggle-collapsed",title:"Show selected recipes",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("svg",{className:"w-5 h-5 transform rotate-180 group-hover:translate-x-[-4px] transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("span",{className:"text-2xl font-bold",children:t.recipes.length}),c.jsx("span",{className:"text-xs",children:"recipes"})]})]})}),y&&((ct=t==null?void 0:t.recipes)==null?void 0:ct.length)>0&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>x(!1)}),y&&((rr=t==null?void 0:t.recipes)==null?void 0:rr.length)>0&&c.jsx("div",{className:"fixed right-0 top-0 h-full w-full sm:w-96 lg:w-80 bg-white shadow-xl transform transition-transform duration-300 z-40",children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>x(!1),className:"absolute top-3 right-3 p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors z-10","data-testid":"sidebar-close",title:"Minimize sidebar",children:c.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})}),c.jsx("div",{className:"p-4 pt-16 border-b",children:c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Default servings:"}),c.jsx("button",{onClick:()=>{},className:"w-8 h-8 rounded-md border border-gray-300 hover:bg-gray-100",children:"−"}),c.jsx("span",{className:"font-medium w-8 text-center",children:(a==null?void 0:a.default_servings)||4}),c.jsx("button",{onClick:()=>{},className:"w-8 h-8 rounded-md border border-gray-300 hover:bg-gray-100",children:"+"})]})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsx("div",{className:"space-y-3",children:t.recipes.map(z=>{const le=u.find(ke=>ke.id===z.recipeId);return le?c.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("img",{src:le.imageUrl,alt:le.title,className:"w-12 h-12 rounded object-cover flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h4",{className:"font-medium text-gray-900 truncate pr-2",children:le.title}),c.jsx("button",{onClick:()=>o(z.recipeId),className:"text-red-600 hover:text-red-700 flex-shrink-0",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>Y(z.recipeId,-1),className:"w-8 h-8 rounded-md border border-gray-300 hover:bg-gray-100 bg-white",children:"−"}),c.jsx("span",{className:"text-sm font-medium w-12 text-center",children:z.servings}),c.jsx("button",{onClick:()=>Y(z.recipeId,1),className:"w-8 h-8 rounded-md border border-gray-300 hover:bg-gray-100 bg-white",children:"+"}),c.jsx("span",{className:"text-sm text-gray-500",children:"servings"})]})]})]})},z.recipeId):null})})}),c.jsx("div",{className:"p-4 border-t",children:c.jsx("button",{onClick:()=>R(!0),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"Generate shopping list"})})]})}),c.jsxs("div",{className:`fixed bottom-4 left-4 bg-gray-600 text-gray-100 px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 text-sm transition-all duration-300 ${E?"opacity-90 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,"data-testid":"sync-indicator",children:[c.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{children:"Saving changes..."})]}),$&&c.jsx(aw,{recipe:$,isSelected:T($.id),selectedRecipe:L($.id),onClose:()=>O(null),onAdd:H,onRemove:o,onUpdateServings:Y}),G&&((Wa=t==null?void 0:t.recipes)==null?void 0:Wa.length)>0&&c.jsx(uw,{recipes:t.recipes,onClose:()=>R(!1)})]})}const dw=()=>{var G,R,D,A;const{id:e}=Bg(),t=ze(),{userProfile:r}=at(),n=w.useRef(null),[s,i]=w.useState(null),[o,l]=w.useState([]),[a,u]=w.useState(!0),[d,h]=w.useState(""),[g,y]=w.useState([]),[x,v]=w.useState(!1),[_,p]=w.useState(""),[f,m]=w.useState(!1);w.useEffect(()=>{k()},[e]),w.useEffect(()=>{const C=setTimeout(()=>{d.trim()?S():y([])},300);return()=>clearTimeout(C)},[d]);const k=async()=>{console.log("Fetching list data...");try{const{data:C,error:M}=await F.from("shopping_lists").select("*, store:stores(name, chain:store_chains(name, logo_url))").eq("id",e).single();if(M)throw M;i(C);const{data:q,error:b}=await F.from("shopping_list_items").select(`
          *,
          products:product_id(
            *,
            store_categories:store_category_id(category_name)
          ),
          recipe_id(*)
        `).eq("shopping_list_id",e).order("display_order",{ascending:!0});if(b)throw b;const T=(q||[]).sort((L,H)=>L.is_checked!==H.is_checked?L.is_checked?1:-1:(L.display_order||0)-(H.display_order||0));l(T)}catch(C){console.error("Error fetching list data:",C),t("/")}finally{u(!1)}},S=async()=>{v(!0);try{const{data:C,error:M}=await F.from("products").select("*, store_category:store_categories(category_name)").ilike("name",`%${d}%`).limit(10);if(M)throw M;const q=o.filter(T=>T.product_id).map(T=>T.product_id),b=C.map(T=>({...T,isInList:q.includes(T.id),existingItem:o.find(L=>L.product_id===T.id)}));y(b)}catch(C){console.error("Error searching products:",C)}finally{v(!1)}},j=async(C,M=1,q=null)=>{try{let b=999;if(s.store_id&&C.store_category_id){const{data:H}=await F.from("store_ordering").select("display_order").eq("store_id",s.store_id).eq("store_category_id",C.store_category_id).single();H&&(b=H.display_order)}const{data:T,error:L}=await F.from("shopping_list_items").insert({shopping_list_id:e,product_id:C.id,quantity:M,unit:q||C.unit,display_order:b}).select(`
          *,
          product:products(
            *,
            store_category:store_categories(category_name)
          )
        `).single();if(L)throw L;l([...o,T]),h(""),y([])}catch(b){console.error("Error adding product:",b),alert("Failed to add product to list")}},E=async(C,M,q)=>{try{const{error:b}=await F.from("shopping_list_items").update({quantity:M,unit:q}).eq("id",C);if(b)throw b;l(o.map(T=>T.id===C?{...T,quantity:M,unit:q}:T))}catch(b){console.error("Error updating quantity:",b)}},P=async(C,M)=>{try{const{error:q}=await F.from("shopping_list_items").update({is_checked:M}).eq("id",C);if(q)throw q;const b=o.map(T=>T.id===C?{...T,is_checked:M}:T).sort((T,L)=>T.is_checked!==L.is_checked?T.is_checked?1:-1:(T.display_order||0)-(L.display_order||0));if(l(b),b.length>0&&b.every(T=>T.is_checked)){const{error:T}=await F.from("shopping_lists").update({is_active:!1,completed_at:new Date().toISOString()}).eq("id",e);T&&console.error("Error auto-completing list:",T)}}catch(q){console.error("Error toggling item:",q)}},$=async C=>{try{const{error:M}=await F.from("shopping_list_items").delete().eq("id",C);if(M)throw M;l(o.filter(q=>q.id!==C))}catch(M){console.error("Error removing item:",M)}},O=async()=>{if(_.trim())try{const{data:C,error:M}=await F.from("shopping_list_items").insert({shopping_list_id:e,custom_name:_.trim(),quantity:1,display_order:999}).select().single();if(M)throw M;l([...o,C]),p(""),m(!1)}catch(C){console.error("Error adding custom item:",C),alert("Failed to add custom item")}};return a?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"})}):c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-0",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("button",{onClick:()=>t("/"),className:"text-gray-600 hover:text-gray-800 flex items-center mb-4",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Home"]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[c.jsx("div",{children:c.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 flex items-center",children:[((R=(G=s==null?void 0:s.store)==null?void 0:G.chain)==null?void 0:R.logo_url)&&c.jsx("img",{src:s.store.chain.logo_url,alt:s.store.chain.name,className:"w-8 h-8 mr-3 object-contain"}),s!=null&&s.store?((A=s.store.name)==null?void 0:A.replace(((D=s.store.chain)==null?void 0:D.name)+" ",""))||s.store.name:"Shopping List"]})}),c.jsx("div",{className:"text-base sm:text-lg font-medium text-gray-700",children:o.length>0&&o.every(C=>C.is_checked)?c.jsx("span",{className:"text-green-600",children:"All items checked! ✓"}):c.jsxs("span",{children:[o.filter(C=>!C.is_checked).length," of ",o.length," remaining"]})})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{ref:n,type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-base sm:text-lg"}),c.jsx("svg",{className:"absolute left-3 top-4 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),g.length>0&&c.jsx("div",{className:"mt-2 border border-gray-200 rounded-lg overflow-hidden",children:g.map(C=>{var M,q;return c.jsx("div",{className:"p-3 border-b last:border-b-0 hover:bg-gray-50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-gray-800",children:C.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:[C.quantity," ",C.unit," - €",C.unit_price]})]}),C.isInList?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"number",value:((M=C.existingItem)==null?void 0:M.quantity)||1,onChange:b=>E(C.existingItem.id,parseFloat(b.target.value)||1,C.existingItem.unit),className:"w-16 px-2 py-1 border border-gray-300 rounded",min:"0.1",step:"0.1"}),C.isweightarticle&&c.jsxs("select",{value:((q=C.existingItem)==null?void 0:q.unit)||C.unit,onChange:b=>E(C.existingItem.id,C.existingItem.quantity,b.target.value),className:"px-2 py-1 border border-gray-300 rounded",children:[c.jsx("option",{value:"g",children:"g"}),c.jsx("option",{value:"kg",children:"kg"}),c.jsx("option",{value:"st",children:"st"})]}),c.jsx("span",{className:"text-green-600 text-sm",children:"In list"})]}):c.jsx("button",{onClick:()=>j(C),className:"px-4 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Add"})]})},C.id)})}),c.jsxs("button",{onClick:()=>m(!0),className:"mt-3 text-blue-600 hover:text-blue-700 text-sm flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add custom item"]}),f&&c.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:_,onChange:C=>p(C.target.value),placeholder:"Enter item name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500",autoFocus:!0}),c.jsx("button",{onClick:O,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Add"}),c.jsx("button",{onClick:()=>{m(!1),p("")},className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"})]})})]}),c.jsx("div",{className:"space-y-2",children:o.map(C=>{var M,q;return c.jsx("div",{className:`bg-white rounded-lg shadow p-4 transition-all ${C.is_checked?"opacity-60":""}`,children:c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[c.jsx("button",{onClick:()=>P(C.id,!C.is_checked),className:"flex-shrink-0 p-1",children:c.jsx("div",{className:`w-8 h-8 sm:w-6 sm:h-6 rounded border-2 flex items-center justify-center ${C.is_checked?"bg-green-600 border-green-600":"border-gray-300 hover:border-green-600"}`,children:C.is_checked&&c.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`font-medium text-gray-800 text-base sm:text-base truncate ${C.is_checked?"line-through":""}`,children:C.products?C.products.name:C.custom_name}),C.products&&c.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:[(M=C.products.store_categories)==null?void 0:M.category_name,C.recipe_id&&` • From ${C.recipe_id.name}`]})]}),c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsx("input",{type:"number",value:C.quantity,onChange:b=>E(C.id,parseFloat(b.target.value)||1,C.unit),className:"w-14 sm:w-16 px-1 sm:px-2 py-1 border border-gray-300 rounded text-center text-sm sm:text-base",min:"0.1",step:"0.1"}),(q=C.products)!=null&&q.isweightarticle?c.jsxs("select",{value:C.unit,onChange:b=>E(C.id,C.quantity,b.target.value),className:"px-1 sm:px-2 py-1 border border-gray-300 rounded text-sm sm:text-base",children:[c.jsx("option",{value:"g",children:"g"}),c.jsx("option",{value:"kg",children:"kg"}),c.jsx("option",{value:"st",children:"st"})]}):c.jsx("span",{className:"text-gray-600 text-xs sm:text-sm w-8 sm:w-12 text-center",children:C.unit||"st"}),c.jsx("button",{onClick:()=>$(C.id),className:"text-red-600 hover:text-red-700 p-1 sm:p-1",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},C.id)})}),o.length===0&&c.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[c.jsx("svg",{className:"w-24 h-24 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Your list is empty"}),c.jsx("p",{className:"text-gray-600",children:"Start adding items using the search bar above"})]})]})},hw=()=>{const e=ze(),[t,r]=w.useState({searchHistory:{counts:{},recordsByStatus:{}},urlCandidates:{counts:{},recordsByStatus:{}}}),[n,s]=w.useState({}),[i,o]=w.useState(!0),[l,a]=w.useState(null),[u,d]=w.useState(null),h=async()=>{try{const{data:v,error:_}=await F.rpc("get_recipe_search_history_counts");_&&console.error("Error fetching search history counts:",_);const p={};v==null||v.forEach(E=>{p[E.status]=parseInt(E.count)});const f={};for(const E of Object.keys(p))if(p[E]>0){const{data:P}=await F.from("recipe_search_history").select("id, search_query, status, created_at, updated_at").eq("status",E).order("updated_at",{ascending:!1}).limit(10);f[E]=P||[]}const{data:m,error:k}=await F.rpc("get_recipe_url_candidates_counts");k&&console.error("Error fetching URL candidates counts:",k);const S={};m==null||m.forEach(E=>{S[E.status]=parseInt(E.count)});const j={};for(const E of Object.keys(S))if(S[E]>0){const{data:P}=await F.from("recipe_url_candidates").select(`
              id, 
              url, 
              status, 
              created_at, 
              updated_at,
              recipe_search_history:recipe_search_history_id(search_query)
            `).eq("status",E).order("updated_at",{ascending:!1}).limit(10);j[E]=P||[]}r({searchHistory:{counts:p,recordsByStatus:f},urlCandidates:{counts:S,recordsByStatus:j}}),a(new Date),o(!1)}catch(v){console.error("Error fetching data:",v),o(!1)}};w.useEffect(()=>{h();const v=setInterval(h,1e4);return()=>clearInterval(v)},[]);const g=v=>{s(_=>_[v]?{}:{[v]:!0})},y=async v=>{try{d(v),r(p=>{var f;return{...p,searchHistory:{...p.searchHistory,counts:{...p.searchHistory.counts,INITIAL:Math.max(0,(p.searchHistory.counts.INITIAL||0)-1),REJECTED:(p.searchHistory.counts.REJECTED||0)+1},recordsByStatus:{...p.searchHistory.recordsByStatus,INITIAL:((f=p.searchHistory.recordsByStatus.INITIAL)==null?void 0:f.filter(m=>m.id!==v))||[]}}}});const{error:_}=await F.from("recipe_search_history").update({status:"REJECTED"}).eq("id",v).eq("status","INITIAL");_?(console.error("Error rejecting search query:",_),alert("Failed to delete search query"),h()):setTimeout(()=>{h()},500),d(null)}catch(_){console.error("Error:",_),alert("An error occurred while deleting"),d(null),h()}},x=v=>new Date(v).toLocaleString();return i?c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"text-center",children:"Loading recipe monitor..."})}):c.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("button",{onClick:()=>e("/weekmenu/"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recipe Processing Monitor"}),c.jsxs("p",{className:"text-gray-600",children:["Last updated: ",l?x(l):"Never"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsx("h2",{className:"text-xl font-semibold",children:"Recipe Search History"})}),c.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Status Counts"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(t.searchHistory.counts).length===0?c.jsx("span",{className:"text-gray-500 italic",children:"No data available"}):["INITIAL","ONGOING","FAILED","COMPLETED","REJECTED"].filter(v=>t.searchHistory.counts[v]!==void 0).map(v=>c.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v==="INITIAL"?"bg-yellow-100 text-yellow-800":v==="ONGOING"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[v,": ",t.searchHistory.counts[v]]},v))})]}),c.jsx("div",{className:"p-4 space-y-3",children:["INITIAL","ONGOING","FAILED","COMPLETED","REJECTED"].filter(v=>t.searchHistory.counts[v]>0).map(v=>{var _,p;return c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>g(`searchHistory-${v}`),className:"flex items-center justify-between w-full text-left",children:[c.jsxs("span",{className:"font-medium",children:[v," Records (",t.searchHistory.counts[v],")"]}),c.jsx("span",{className:`transform transition-transform ${n[`searchHistory-${v}`]?"rotate-180":""}`,children:"▼"})]}),n[`searchHistory-${v}`]&&c.jsxs("div",{className:"mt-2 space-y-2",children:[(_=t.searchHistory.recordsByStatus[v])==null?void 0:_.map(f=>c.jsxs("div",{className:"p-3 bg-gray-50 rounded border ml-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:"font-medium text-sm flex-1",children:f.search_query}),c.jsxs("div",{className:"flex items-center gap-2",children:[v==="INITIAL"&&c.jsx("button",{onClick:()=>y(f.id),disabled:u===f.id,className:`p-1 rounded transition-colors ${u===f.id?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800 hover:bg-red-50"}`,title:"Delete search query",children:u===f.id?c.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),c.jsx("span",{className:`px-2 py-1 rounded text-xs ${v==="INITIAL"?"bg-yellow-100 text-yellow-800":v==="ONGOING"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status})]})]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",x(f.created_at)," | Updated: ",x(f.updated_at)]})]},f.id)),((p=t.searchHistory.recordsByStatus[v])==null?void 0:p.length)===10&&c.jsx("p",{className:"text-xs text-gray-500 italic ml-4",children:"Showing latest 10 records"})]})]},v)})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsx("h2",{className:"text-xl font-semibold",children:"Recipe URL Candidates"})}),c.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Status Counts"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(t.urlCandidates.counts).length===0?c.jsx("span",{className:"text-gray-500 italic",children:"No data available"}):["INITIAL","INVESTIGATING","ACCEPTED","CREATING","REJECTED","CREATED"].filter(v=>t.urlCandidates.counts[v]!==void 0).map(v=>c.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v==="INITIAL"?"bg-yellow-100 text-yellow-800":v==="INVESTIGATING"?"bg-blue-100 text-blue-800":v==="ACCEPTED"?"bg-green-100 text-green-800":v==="CREATING"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[v,": ",t.urlCandidates.counts[v]]},v))})]}),c.jsx("div",{className:"p-4 space-y-3",children:["INITIAL","INVESTIGATING","ACCEPTED","CREATING","REJECTED","CREATED"].filter(v=>t.urlCandidates.counts[v]>0).map(v=>{var _,p;return c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>g(`urlCandidates-${v}`),className:"flex items-center justify-between w-full text-left",children:[c.jsxs("span",{className:"font-medium",children:[v," Records (",t.urlCandidates.counts[v],")"]}),c.jsx("span",{className:`transform transition-transform ${n[`urlCandidates-${v}`]?"rotate-180":""}`,children:"▼"})]}),n[`urlCandidates-${v}`]&&c.jsxs("div",{className:"mt-2 space-y-2",children:[(_=t.urlCandidates.recordsByStatus[v])==null?void 0:_.map(f=>{var m;return c.jsxs("div",{className:"p-3 bg-gray-50 rounded border ml-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1 mr-2",children:[c.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline text-sm break-all",children:f.url}),((m=f.recipe_search_history)==null?void 0:m.search_query)&&c.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:['From query: "',f.recipe_search_history.search_query,'"']})]}),c.jsx("span",{className:`px-2 py-1 rounded text-xs flex-shrink-0 ${v==="INITIAL"?"bg-yellow-100 text-yellow-800":v==="INVESTIGATING"?"bg-blue-100 text-blue-800":v==="ACCEPTED"?"bg-green-100 text-green-800":v==="CREATING"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",x(f.created_at)," | Updated: ",x(f.updated_at)]})]},f.id)}),((p=t.urlCandidates.recordsByStatus[v])==null?void 0:p.length)===10&&c.jsx("p",{className:"text-xs text-gray-500 italic ml-4",children:"Showing latest 10 records"})]})]},v)})})]})]})};function fw(){const e=ze(),{user:t,userProfile:r,signOut:n}=at(),s=async()=>{await n()};return c.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:()=>e("/weekmenu/"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile"}),c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r!=null&&r.avatar_url?c.jsx("img",{src:r.avatar_url,alt:"Profile",className:"w-16 h-16 rounded-full"}):c.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium text-gray-900",children:(r==null?void 0:r.full_name)||"No name set"}),c.jsx("p",{className:"text-sm text-gray-600",children:t==null?void 0:t.email})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account"}),c.jsxs("button",{onClick:s,className:"w-full bg-red-50 hover:bg-red-100 text-red-700 px-4 py-3 rounded-md font-medium transition-colors flex items-center justify-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})}function _n({children:e}){const{user:t,loading:r}=at();return r?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsx("div",{className:"bg-white p-8 rounded-lg shadow-xl",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Loading..."}),c.jsx("p",{className:"text-gray-600",children:"Please wait while we load your account."})]})})}):t?e:c.jsx($a,{to:"/login"})}function pw({children:e}){const{user:t,loading:r}=at();return r?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:c.jsx("div",{className:"bg-white p-8 rounded-lg shadow-xl",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Loading..."}),c.jsx("p",{className:"text-gray-600",children:"Please wait while we load your account."})]})})}):t?c.jsx($a,{to:"/"}):e}function mw(){return c.jsx(C0,{basename:"/weekmenu",children:c.jsx(Zy,{children:c.jsx(ew,{children:c.jsxs(n0,{children:[c.jsx(gt,{path:"/login",element:c.jsx(pw,{children:c.jsx(tw,{})})}),c.jsx(gt,{path:"/auth/callback",element:c.jsx(lw,{})}),c.jsx(gt,{path:"/",element:c.jsx(_n,{children:c.jsx(xn,{children:c.jsx(ow,{})})})}),c.jsx(gt,{path:"/menu-selector",element:c.jsx(_n,{children:c.jsx(xn,{children:c.jsx(cw,{})})})}),c.jsx(gt,{path:"/shopping-list/:id",element:c.jsx(_n,{children:c.jsx(xn,{children:c.jsx(dw,{})})})}),c.jsx(gt,{path:"/recipe-monitor",element:c.jsx(_n,{children:c.jsx(xn,{children:c.jsx(hw,{})})})}),c.jsx(gt,{path:"/settings",element:c.jsx(_n,{children:c.jsx(xn,{children:c.jsx(fw,{})})})}),c.jsx(gt,{path:"*",element:c.jsx($a,{to:"/"})})]})})})})}Lo.createRoot(document.getElementById("root")).render(c.jsx(Vf.StrictMode,{children:c.jsx(mw,{})}));
